2017-05-12  SVN: new release

	* Release: 1.38.0

2017-05-12 15:45  squinney@INF.ED.AC.UK

	* xml/read.c: allow a NULL value for the context dir in
	  lcfgprofile_overrides_context (just return immediately)

2017-05-12 15:41  squinney@INF.ED.AC.UK

	* include/differences.h, lcfg.yml, profile/diff.c,
	  resources/components/diff.c: Added functions to get lists of
	  names for various types of changed resources and components. This
	  is needed by the perl interface to avoid horrid list mangling

2017-05-12 15:40  squinney@INF.ED.AC.UK

	* include/common.h: altered how the LCFGChange enum is declared so
	  it's possible to logically combine them

2017-05-12 14:28  squinney@INF.ED.AC.UK

	* include/tags.h, lcfg.yml, resources/tags/list.c,
	  resources/tags/tag.c: Added hashing of tag name, should be useful
	  for set operations

2017-05-12 14:02  squinney@INF.ED.AC.UK

	* include/utils.h.in, utils/utils.c: Added lcfgutils_string_djbhash
	  for hashing strings

2017-05-12 13:47  squinney@INF.ED.AC.UK

	* resources/components/list.c:
	  lcfgcomplist_insert_or_replace_component now returns a helpful
	  message when the new component is invalid

2017-05-12 13:46  squinney@INF.ED.AC.UK

	* profile/profile.c: Check that lcfgpkglist_set_merge_rules did not
	  fail when creating new package lists

2017-05-12 13:35  squinney@INF.ED.AC.UK

	* lcfg.yml, packages/package.c, resources/resource.c: altered how
	  some hardwired strings are declared so sizes can be calculated
	  using sizeof for efficiency

2017-05-12 13:14  squinney@INF.ED.AC.UK

	* include/utils.h.in: tweaked lcfgslist_head and lcfgslist_tail
	  macros so they are safe when called with a NULL value for the
	  list. This just makes the calling code a little tidier

2017-05-12 13:11  squinney@INF.ED.AC.UK

	* include/differences.h, lcfg.yml, profile/diff.c,
	  resources/diff.c: Finished reworking how lists of component diffs
	  are handled. Also completed documentation of diffs API

2017-05-12 13:10  squinney@INF.ED.AC.UK

	* context/scanner.c, context/tools.c: Added docs header

2017-05-12 12:01  squinney@INF.ED.AC.UK

	* resources/components/diff.c: lcfgcomponent_diff now returns the
	  type of differences between the two resources since we nearly
	  always need that information immediately after calling the
	  function

2017-05-12 12:01  squinney@INF.ED.AC.UK

	* resources/diff.c: lcfgresource_diff now returns the type of
	  differences between the two resources since we nearly always need
	  that information immediately after calling the function

2017-05-12 11:27  squinney@INF.ED.AC.UK

	* include/utils.h.in, packages/list.c, packages/rpm.c,
	  resources/components/component.c, utils/utils.c, xml/read.c,
	  xml/resource.c: Renamed a few string utilities so the names start
	  with lcfgutils_string_ for consistency

2017-05-12 11:22  squinney@INF.ED.AC.UK

	* resources/diff.c: minor doc fixes

2017-05-12 11:17  squinney@INF.ED.AC.UK

	* resources/components/diff.c: Added docs

2017-05-12 09:44  squinney@INF.ED.AC.UK

	* resources/diff.c: minor doc fix

2017-05-12 09:43  squinney@INF.ED.AC.UK

	* resources/components/component.c: minor doc fix

2017-05-12 09:43  squinney@INF.ED.AC.UK

	* profile/profile.c: tiny doc fix

2017-05-12 09:36  squinney@INF.ED.AC.UK

	* resources/diff.c: Added docs

2017-05-11 15:51  squinney@INF.ED.AC.UK

	* packages/list.c: Check return code from
	  lcfgpkglist_set_merge_rules

2017-05-11 15:51  squinney@INF.ED.AC.UK

	* include/profile.h, profile/profile.c, xml/packages.c: Use macros
	  for ACTIVE_PACKAGE_RULES and INACTIVE_PACKAGE_RULES to avoid them
	  being specified in multiple places

2017-05-11 15:39  squinney@INF.ED.AC.UK

	* resources/components/diff.c: silenced warnings in
	  lcfgcomplist_quickdiff by tweaking how the switch works

2017-05-11 15:38  squinney@INF.ED.AC.UK

	* xml/lcfg_xml_reader.c: Improved handling of missing command line
	  arg

2017-05-11 15:37  squinney@INF.ED.AC.UK

	* utils/shiftpressed.c: changed main to void as no command line
	  args necessary

2017-05-11 15:37  squinney@INF.ED.AC.UK

	* utils/daemon.c: Only attempt to run a command when one is given
	  on the command line

2017-05-11 15:19  squinney@INF.ED.AC.UK

	* resources/components/diff.c: fixed diffing of components. Added
	  lcfgdiffcomponent_compare for sorting and lcfgdiffcomponent_match
	  for finding in lists

2017-05-11 15:17  squinney@INF.ED.AC.UK

	* resources/diff.c: fixed spec for lcfgdiffresource_match so that
	  it returns a bool

2017-05-11 15:17  squinney@INF.ED.AC.UK

	* bdb/write.c: When writing components to DB pre-allocate a buffer
	  for resource key data for efficiency to avoid lots of reallocs.
	  Wipe key and data structs each time before use for safety

2017-05-11 15:15  squinney@INF.ED.AC.UK

	* include/profile.h, profile/profile.c: Added
	  lcfgprofile_get_components

2017-05-11 15:14  squinney@INF.ED.AC.UK

	* resources/resource.c: tweaked error message

2017-05-10 15:26  squinney@INF.ED.AC.UK

	* include/differences.h, lcfg.yml, profile/diff.c,
	  resources/components/diff.c: Reworked lcfgdiffcomponent to use
	  generic single-linked list

2017-05-10 14:31  squinney@INF.ED.AC.UK

	* include/utils.h.in, utils/CMakeLists.txt, utils/slist.c: Added
	  basics for a generic single-linked list

2017-05-10 14:04  squinney@INF.ED.AC.UK

	* resources/components/component.c: some renaming of variables in
	  lcfgcomponent_insert_next and lcfgcomponent_remove_next to make
	  it more generic and easier to compare with similar functions in
	  other libs

2017-05-10 14:03  squinney@INF.ED.AC.UK

	* resources/diff.c: Added lcfgdiffresource_match and
	  lcfgdiffresource_compare to simplify finding and sorting of
	  resource diffs

2017-05-10 14:02  squinney@INF.ED.AC.UK

	* include/resources.h, resources/resource.c: Added
	  lcfgresource_same_name and lcfgresource_compare_names

2017-05-10 12:20  squinney@INF.ED.AC.UK

	* include/differences.h, resources/diff.c: replaced nonnull
	  attributes with assertions

2017-05-10 12:14  squinney@INF.ED.AC.UK

	* include/differences.h, resources/diff.c: Updated ref counting

2017-05-10 11:23  squinney@INF.ED.AC.UK

	* lcfg.yml, resources/CMakeLists.txt, resources/components/diff.c,
	  resources/diff.c: Split out the component diff code into a
	  separate file to improve manageability

2017-05-10 11:13  squinney@INF.ED.AC.UK

	* xml/read.c: Improved error handling in overrides functions

2017-05-10 11:13  squinney@INF.ED.AC.UK

	* xml/common.c: added assertions

2017-05-10 11:05  squinney@INF.ED.AC.UK

	* include/xml.h, lcfg.yml, xml/lcfg_xml_reader.c, xml/read.c:
	  lcfgprofile_overrides_xmldir and lcfgprofile_overrides_context
	  now return the change type instead of just status

2017-05-10 11:04  squinney@INF.ED.AC.UK

	* xml/common.c: A few minor tweaks

2017-05-09 15:30  squinney@INF.ED.AC.UK

	* include/xml.h, lcfg.yml, xml/read.c: fixed spec for
	  lcfgxml_init_reader

2017-05-09 15:27  squinney@INF.ED.AC.UK

	* lcfg.yml, xml/common.c, xml/read.c: Added docs

2017-05-09 15:27  squinney@INF.ED.AC.UK

	* include/profile.h, profile/profile.c: lcfgprofile_merge now
	  returns a change rather than a simple status

2017-05-09 15:27  squinney@INF.ED.AC.UK

	* context/context.c: minor doc tweaks

2017-05-09 12:58  squinney@INF.ED.AC.UK

	* include/xml.h, lcfg.yml: Updated function specs. Removed a few
	  which are static

2017-05-09 12:57  squinney@INF.ED.AC.UK

	* xml/read.c: Added basic docs. Improved error handling

2017-05-09 12:56  squinney@INF.ED.AC.UK

	* xml/resource.c: Added basic docs. Improved error handling

2017-05-09 12:55  squinney@INF.ED.AC.UK

	* xml/packages.c: Added basic docs. Improved error handling

2017-05-09 12:55  squinney@INF.ED.AC.UK

	* xml/components.c: Added basic docs. Improved error handling

2017-05-09 12:54  squinney@INF.ED.AC.UK

	* xml/common.c: Renamed lcfgxml_set_error_message to lcfgxml_error
	  and changed return type so that LCFG_STATUS_ERROR can be returned
	  for ease of error handling

2017-05-08 18:28  squinney@INF.ED.AC.UK

	* include/common.h, include/components.h, include/packages.h,
	  packages/list.c, packages/rpm.c, profile/profile.c,
	  xml/packages.c: Moved LCFGMergeRule enum to common. Swapped
	  package lists over from LCFGPkgRule to LCFGMergeRule

2017-05-08 18:10  squinney@INF.ED.AC.UK

	* profile/profile.c: fixed docs for lcfgprofile_ngeneric_components

2017-05-08 18:02  squinney@INF.ED.AC.UK

	* resources/tags/iterator.c: fixed doc

2017-05-08 16:12  squinney@INF.ED.AC.UK

	* bdb/read.c, bdb/write.c, include/bdb.h: Replaced nonnull
	  attribute with assertions

2017-05-08 15:13  squinney@INF.ED.AC.UK

	* bdb/write.c: Fixed a couple of variable declarations

2017-05-08 15:11  squinney@INF.ED.AC.UK

	* bdb/write.c: Only write out the list of names of the resources
	  which are actually stored in the DB. Replaced calls to asprintf
	  with lcfgutils_build_message. Minor tidying.

2017-05-08 15:11  squinney@INF.ED.AC.UK

	* bdb/read.c: Replaced calls to asprintf with
	  lcfgutils_build_message. Minor tidying.

2017-05-08 11:34  squinney@INF.ED.AC.UK

	* include/components.h, resources/components/component.c: Added
	  lcfgcomponent_remove_all_resources and lcfgcomponent_clone
	  functions. Reworked lcfgcomponent_merge_component to use a
	  temporary copy of the component so that the original is only
	  modified if all resources are successfully merged

2017-05-08 11:10  squinney@INF.ED.AC.UK

	* include/components.h, profile/profile.c,
	  resources/components/list.c: lcfgcomplist_merge is now
	  lcfgcomplist_merge_components

2017-05-08 08:43  squinney@INF.ED.AC.UK

	* include/components.h, resources/components/component.c,
	  resources/components/list.c: Renamed lcfgcomponent_merge as
	  lcfgcomponent_merge_component so the purpose of the function is
	  much clearer

2017-05-08 08:35  squinney@INF.ED.AC.UK

	* include/components.h: fixed spec for
	  lcfgcomponent_set_merge_rules

2017-05-08 08:34  squinney@INF.ED.AC.UK

	* resources/CMakeLists.txt, resources/complist.c,
	  resources/component.c, resources/components,
	  resources/components/component.c, resources/components/list.c,
	  resources/tag.c, resources/tagiter.c, resources/taglist.c,
	  resources/tags, resources/tags/iterator.c, resources/tags/list.c,
	  resources/tags/tag.c, specfile: Created sub-dirs for components
	  and tags and moved source files around to make it easier to find
	  things

2017-05-05 10:55  squinney@INF.ED.AC.UK

	* bdb/read.c, include/components.h, profile/profile.c,
	  resources/component.c, resources/diff.c, xml/components.c,
	  xml/resource.c: Added support to components for merge rules which
	  control how resources can be added, this works in a similar way
	  to how package lists are handled. The
	  lcfgcomponent_merge_resource function replaces
	  lcfgcomponent_insert_or_replace_resource and
	  lcfgcomponent_insert_or_merge_resource

2017-05-05 10:55  squinney@INF.ED.AC.UK

	* packages/list.c: tidying

2017-05-05 10:41  squinney@INF.ED.AC.UK

	* packages/list.c: Fixed package merging where priority of new
	  version of package is lower than previous version

2017-05-04 11:37  squinney@INF.ED.AC.UK

	* packages/list.c: When lcfgpkglist_merge_package searches current
	  list it must not ignore inactive packages

2017-05-02 14:32  squinney@INF.ED.AC.UK

	* include/profile.h, lcfg.yml, profile/profile.c: Added
	  lcfgprofile_get_components_as_taglist and
	  lcfgprofile_ngeneric_components functions

2017-05-02 14:31  squinney@INF.ED.AC.UK

	* profile/profile.c: fixed setting of mtime for from_status_dir
	  method

2017-05-02 14:30  squinney@INF.ED.AC.UK

	* include/components.h, resources/complist.c: Dropped unnecessary
	  options parameter for lcfgcomplist_get_components_as_taglist and
	  lcfgcomplist_get_components_as_string

2017-05-02 14:30  squinney@INF.ED.AC.UK

	* include/resources.h, resources/component.c, resources/resource.c:
	  lcfgresource_from_env now takes an options parameter which
	  controls how it handles the non-existence of the value env var

2017-05-02 11:15  squinney@INF.ED.AC.UK

	* resources/resource.c: Made it possible to ignore the lack of a
	  env variable for a resource value in the from_env function

2017-05-01 05:21  squinney@INF.ED.AC.UK

	* profile/profile.c: Fixed param names in docs for some functions

2017-04-29 07:44  squinney@INF.ED.AC.UK

	* resources/resource.c: Converted a couple of const strings to
	  arrays so length can be found at compile time

2017-04-29 07:43  squinney@INF.ED.AC.UK

	* resources/complist.c: fixed return value for
	  lcfgcomplist_transplant_components when list is empty

2017-04-29 07:42  squinney@INF.ED.AC.UK

	* utils/utils.c: Added missing cast to silence compiler warning

2017-04-28 15:16  squinney@INF.ED.AC.UK

	* include/resources.h, lcfg.yml, resources/component.c,
	  resources/resource.c: Reworked all the to/from env and to_export
	  functionality so that the variable name prefixes are handled
	  better. This improves how the code is used in the Perl layer and
	  avoids unnecessary duplication

2017-04-28 12:08  squinney@INF.ED.AC.UK

	* lcfg.yml, xml/read.c: lcfgprofile_apply_overrides is now
	  lcfgprofile_merge

2017-04-28 12:04  squinney@INF.ED.AC.UK

	* include/bdb.h, include/components.h, include/differences.h,
	  include/resources.h, include/xml.h: Standardised protection
	  macros and added doc headers

2017-04-28 11:59  squinney@INF.ED.AC.UK

	* include/profile.h, profile/profile.c: Added docs

2017-04-28 11:55  squinney@INF.ED.AC.UK

	* resources/complist.c, resources/component.c: Minor doc fixes

2017-04-28 11:55  squinney@INF.ED.AC.UK

	* packages/rpm.c: Minor doc fixes

2017-04-28 10:02  squinney@INF.ED.AC.UK

	* profile/profile.c: Fixed has_components, has_component and
	  find_component so that they can handle being called with a NULL
	  value for the profile

2017-04-28 08:54  squinney@INF.ED.AC.UK

	* include/profile.h, profile/profile.c: Added lots of assertions.
	  Renamed apply_overrides to merge for consistency

2017-04-28 08:48  squinney@INF.ED.AC.UK

	* resources/complist.c: find_node, find_component and has_component
	  should accept a NULL list

2017-04-28 08:48  squinney@INF.ED.AC.UK

	* resources/component.c: find_node, find_resource and has_resource
	  should accept a NULL list

2017-04-27 13:34  squinney@INF.ED.AC.UK

	* ChangeLog, lcfg.yml: lcfg-core release: 1.37.0

2017-04-27 13:33  squinney@INF.ED.AC.UK

	* lcfg.yml, resources/complist.c: minor doc fixes

2017-04-27 13:30  squinney@INF.ED.AC.UK

	* resources/complist.c: Added docs for
	  lcfgcomplist_transplant_components and lcfgcomplist_merge

2017-04-27 13:19  squinney@INF.ED.AC.UK

	* lcfg.yml, packages/rpm.c: fixed doc header

2017-04-27 13:19  squinney@INF.ED.AC.UK

	* Doxyfile.in: Avoid producing docs for parse_pkgspec

2017-04-27 13:11  squinney@INF.ED.AC.UK

	* include/components.h, lcfg.yml, resources/complist.c: Added
	  complist_from_env and complist_to_env

2017-04-27 13:10  squinney@INF.ED.AC.UK

	* resources/component.c: Silence some compiler warnings

2017-04-27 12:12  squinney@INF.ED.AC.UK

	* include/components.h: Added docs for complist structures and
	  macros

2017-04-27 10:58  squinney@INF.ED.AC.UK

	* packages/list.c, packages/package.c, packages/rpm.c: Added doc
	  headers

2017-04-27 10:57  squinney@INF.ED.AC.UK

	* include/components.h, include/packages.h, include/tags.h,
	  packages/iterator.c, resources/iterator.c, resources/tagiter.c:
	  Standardised how the iterator functions work

2017-04-26 20:17  squinney@INF.ED.AC.UK

	* TODO: updated todo

2017-04-26 20:16  squinney@INF.ED.AC.UK

	* include/components.h, resources/complist.c,
	  resources/component.c: Added
	  lcfgcomplist_get_components_as_taglist and
	  lcfgcomplist_get_components_as_string

2017-04-26 16:35  squinney@INF.ED.AC.UK

	* TODO, bdb/write.c, include/components.h, resources/component.c:
	  Added lcfgcomponent_get_resources_as_taglist function (and use it
	  in lcfgcomponent_get_resources_as_string

2017-04-26 16:35  squinney@INF.ED.AC.UK

	* include/resources.h, resources/resource.c: Added
	  lcfgresource_is_valid function

2017-04-26 16:34  squinney@INF.ED.AC.UK

	* include/templates.h, resources/templates.c: due to reference
	  counting cannot take taglist as a const in
	  lcfgresource_build_name

2017-04-26 15:58  squinney@INF.ED.AC.UK

	* resources/complist.c: Began adding docs

2017-04-26 15:30  squinney@INF.ED.AC.UK

	* resources/complist.c, resources/component.c,
	  resources/iterator.c, resources/tag.c, resources/tagiter.c,
	  resources/taglist.c, resources/templates.c: More docs

2017-04-26 14:03  squinney@INF.ED.AC.UK

	* context/context.c, context/list.c, context/scanner.c,
	  context/tools.c, include/common.h, include/components.h,
	  include/context.h, include/packages.h, include/tags.h,
	  packages/list.c, packages/package.c, packages/rpm.c,
	  resources/component.c, resources/resource.c, resources/tag.c,
	  resources/taglist.c: Lots of documentation improvements

2017-04-26 13:37  squinney@INF.ED.AC.UK

	* include/tags.h: added spec for lcfgtag_has_name

2017-04-26 12:51  squinney@INF.ED.AC.UK

	* resources/tag.c: Added docs for all functions

2017-04-26 11:20  squinney@INF.ED.AC.UK

	* include/tags.h, resources/tagiter.c, resources/taglist.c,
	  xml/resource.c: reworked the tag list mutators slightly and added
	  mutate_replace

2017-04-26 11:19  squinney@INF.ED.AC.UK

	* bdb/read.c: fixed call to lcfgprofile_destroy

2017-04-26 11:18  squinney@INF.ED.AC.UK

	* include/components.h, resources/complist.c: fixed spec for
	  lcfgcomplist_relinquish

2017-04-26 10:24  squinney@INF.ED.AC.UK

	* include/components.h, profile/profile.c, resources/complist.c,
	  resources/component.c: Slightly reworked status directory
	  handling so that options can be passed through to the file
	  read/write functions

2017-04-26 10:10  squinney@INF.ED.AC.UK

	* resources/complist.c, resources/component.c: Added some more
	  assertions for safety

2017-04-26 10:06  squinney@INF.ED.AC.UK

	* include/components.h, include/profile.h, profile/profile.c,
	  resources/complist.c, resources/component.c, xml/read.c:
	  complist_apply_overrides is now complist_merge and takes an
	  option which controls whether 'new' components are also copied in

2017-04-26 09:31  squinney@INF.ED.AC.UK

	* bdb/read.c, include/components.h, profile/profile.c,
	  resources/complist.c, xml/components.c: Added reference counting
	  for component lists

2017-04-25 20:29  squinney@INF.ED.AC.UK

	* resources/templates.c: use taglist iterator when building
	  resource name

2017-04-25 20:29  squinney@INF.ED.AC.UK

	* include/tags.h, resources/tagiter.c: Added support for walking
	  taglist in reverse

2017-04-25 20:07  squinney@INF.ED.AC.UK

	* include/tags.h: Added lcfgtagiter functions

2017-04-25 20:06  squinney@INF.ED.AC.UK

	* resources/component.c: use iterator to walk through taglist

2017-04-25 20:05  squinney@INF.ED.AC.UK

	* resources/CMakeLists.txt: added tagiter.c to sources list

2017-04-25 20:05  squinney@INF.ED.AC.UK

	* resources/tag.c: tweaked docs

2017-04-25 20:05  squinney@INF.ED.AC.UK

	* resources/tagiter.c: Added taglist iterator

2017-04-25 20:04  squinney@INF.ED.AC.UK

	* resources/taglist.c: Fixed lcfgtaglist_from_string so that an
	  empty string results in an empty list

2017-04-25 18:58  squinney@INF.ED.AC.UK

	* resources/CMakeLists.txt, resources/tag.c, resources/tags.c:
	  renamed for clarity

2017-04-25 18:57  squinney@INF.ED.AC.UK

	* resources/CMakeLists.txt, resources/taglist.c, resources/tags.c:
	  Split out taglist functions

2017-04-25 14:04  squinney@INF.ED.AC.UK

	* include/components.h, lcfg.yml, profile/profile.c,
	  resources/complist.c, resources/component.c:
	  lcfgcomponent_apply_overrides is now named lcfgcomponent_merge.
	  Merge/overrides functions now return the change type instead of a
	  simple status

2017-04-25 14:04  squinney@INF.ED.AC.UK

	* resources/resource.c: minor tweaks to docs

2017-04-25 12:58  squinney@INF.ED.AC.UK

	* resources/resource.c: Improved error reporting in from_env

2017-04-25 12:35  squinney@INF.ED.AC.UK

	* ChangeLog, lcfg.yml: lcfg-core release: 1.36.0

2017-04-25 12:32  squinney@INF.ED.AC.UK

	* lcfg.yml, packages/iterator.c, packages/list.c,
	  packages/package.c, packages/parse_pkgspec.c, packages/rpm.c,
	  resources/complist.c, resources/component.c, resources/diff.c,
	  resources/iterator.c, resources/mutate.c, resources/resource.c,
	  resources/tags.c, resources/templates.c: Set keywords

2017-04-25 12:26  squinney@INF.ED.AC.UK

	* include/components.h, include/packages.h, include/resources.h,
	  include/tags.h, include/templates.h, lcfg.yml: Documented structs
	  and macros

2017-04-25 11:06  squinney@INF.ED.AC.UK

	* include/components.h, lcfg.yml, resources/component.c: Added
	  lcfgcomponent_from_env

2017-04-25 11:06  squinney@INF.ED.AC.UK

	* resources/tags.c, resources/templates.c: fixed docs

2017-04-25 11:06  squinney@INF.ED.AC.UK

	* resources/resource.c: fixed memory leak of type string in
	  lcfgresource_from_env

2017-04-25 09:33  squinney@INF.ED.AC.UK

	* resources/CMakeLists.txt, resources/component.c,
	  resources/components.c, resources/resource.c, resources/tags.c,
	  resources/templates.c: Added documentation header

2017-04-25 09:28  squinney@INF.ED.AC.UK

	* context/context.c, include/utils.h.in, packages/package.c,
	  profile/profile.c, resources/components.c, resources/resource.c,
	  utils/utils.c: renamed lcfgutils_join_strings to
	  lcfgutils_string_join. Replaced a few calls to asprintf with
	  lcfgutils_string_join

2017-04-24 16:25  squinney@INF.ED.AC.UK

	* resources/components.c: Documented many more functions

2017-04-24 16:24  squinney@INF.ED.AC.UK

	* resources/complist.c: lcfgcomponent_to_statusfile now takes
	  options

2017-04-24 16:24  squinney@INF.ED.AC.UK

	* resources/resource.c: Minor tweaks to docs

2017-04-24 16:24  squinney@INF.ED.AC.UK

	* packages/list.c, packages/package.c: Minor tweaks to docs

2017-04-24 16:23  squinney@INF.ED.AC.UK

	* include/components.h: lcfgcomponent_to_statusfile now takes
	  options

2017-04-24 15:24  squinney@INF.ED.AC.UK

	* include/components.h, resources/complist.c,
	  resources/ex/status_file.c: lcfgcomponent_from_statusfile now
	  takes options to control behaviour

2017-04-24 13:27  squinney@INF.ED.AC.UK

	* resources/resource.c: Finished documenting API

2017-04-24 13:09  squinney@INF.ED.AC.UK

	* packages/package.c: tweaked docs for string-generating functions

2017-04-24 11:09  squinney@INF.ED.AC.UK

	* resources/resource.c: Added docs for lots more functions

2017-04-24 11:08  squinney@INF.ED.AC.UK

	* packages/package.c: Improved a few docs

2017-04-24 08:43  squinney@INF.ED.AC.UK

	* resources/resource.c: tidied code to improve readability

2017-04-24 08:43  squinney@INF.ED.AC.UK

	* resources/components.c: take more care with value passed to
	  lcfgresource_set_attribute

2017-04-24 08:07  squinney@INF.ED.AC.UK

	* resources/resource.c: Added docs for acquire and release
	  functions

2017-04-21 14:37  squinney@INF.ED.AC.UK

	* lcfg.yml, resources/components.c: Similarly reworked how to_env
	  function gathers resource names

2017-04-21 14:20  squinney@INF.ED.AC.UK

	* lcfg.yml, resources/components.c: reworked how print function
	  gathers resource names when style is 'export'

2017-04-21 14:19  squinney@INF.ED.AC.UK

	* resources/resource.c: Fixed to_export

2017-04-21 13:35  squinney@INF.ED.AC.UK

	* lcfg.yml, resources/components.c: Also print env var for resource
	  list when printing component in 'export' style

2017-04-21 13:26  squinney@INF.ED.AC.UK

	* include/common.h, include/components.h, include/resources.h,
	  lcfg.yml, profile/profile.c, resources/complist.c,
	  resources/components.c, resources/resource.c: Added new
	  lcfgresource_to_string which is a higher-level string function
	  which can be used by lcfgresource_print and lcfgcomponent_print

2017-04-21 13:25  squinney@INF.ED.AC.UK

	* packages/list.c: Tweaked print to make it similar to
	  lcfgcomponent_print

2017-04-21 12:15  squinney@INF.ED.AC.UK

	* include/resources.h, lcfg.yml, resources/resource.c: Added
	  lcfgresource_to_summary for qxprof

2017-04-21 12:14  squinney@INF.ED.AC.UK

	* packages/package.c: tweaked to_summary so that it doesn't waste
	  memory

2017-04-21 11:29  squinney@INF.ED.AC.UK

	* bdb/read.c: Use LCFGOption enum type for options

2017-04-21 10:19  squinney@INF.ED.AC.UK

	* include/resources.h, lcfg.yml, resources/components.c: updated
	  calls to resource_to_export

2017-04-21 10:19  squinney@INF.ED.AC.UK

	* include/utils.h.in, utils/utils.c: Tweaked name of replace
	  function

2017-04-21 10:19  squinney@INF.ED.AC.UK

	* resources/resource.c: to_export now also handles the resource
	  type

2017-04-21 08:02  squinney@INF.ED.AC.UK

	* utils/utils.c: finished implementing lcfgutils_replace_string

2017-04-20 16:23  squinney@INF.ED.AC.UK

	* resources/components.c: reworked to_env to handle type keys

2017-04-20 16:23  squinney@INF.ED.AC.UK

	* resources/resource.c: Added from_env function. Updated to_env to
	  match

2017-04-20 16:21  squinney@INF.ED.AC.UK

	* include/components.h, include/resources.h, include/utils.h.in:
	  tweaked spec of to_env and from_env to take prefixes for both
	  value and type keys

2017-04-20 13:09  squinney@INF.ED.AC.UK

	* lcfg.yml, resources/ex, resources/ex/status_dir.c,
	  resources/ex/status_file.c: Added examples of how to read a
	  single status file and a whole status directory

2017-04-20 13:05  squinney@INF.ED.AC.UK

	* resources/complist.c: need to close status directory handle after
	  reading is finished

2017-04-20 12:26  squinney@INF.ED.AC.UK

	* include/components.h, resources/iterator.c: updated resource list
	  iterator to use ref counting

2017-04-20 11:10  squinney@INF.ED.AC.UK

	* resources/complist.c, resources/resource.c: Silenced a few
	  warnings

2017-04-20 11:10  squinney@INF.ED.AC.UK

	* include/context.h: Added lcfgcontext_is_valid

2017-04-20 10:55  squinney@INF.ED.AC.UK

	* bdb/read.c, include/components.h, include/profile.h,
	  include/resources.h, profile/profile.c, resources/complist.c,
	  resources/components.c, resources/diff.c, resources/resource.c,
	  xml/components.c, xml/resource.c: Lots of minor updates to
	  improve consistency with other code.

2017-04-20 10:15  squinney@INF.ED.AC.UK

	* packages/list.c: Tweaked remove_next for consistency

2017-04-20 09:37  squinney@INF.ED.AC.UK

	* resources/diff.c: Updated for new resource ref counting system

2017-04-19 18:24  squinney@INF.ED.AC.UK

	* resources/components.c: Reworked the reference counting

2017-04-19 18:21  squinney@INF.ED.AC.UK

	* resources/resource.c: Switched to checking strings using
	  isempty()

2017-04-19 14:44  squinney@INF.ED.AC.UK

	* resources/resource.c: added a few more assert() calls

2017-04-19 14:42  squinney@INF.ED.AC.UK

	* include/resources.h, resources/resource.c: Altered reference
	  counting and added acquire/relinquish functions. Switched to
	  assert() from nonnull attribute

2017-04-19 14:41  squinney@INF.ED.AC.UK

	* resources/tags.c: noted that stricter validation of tag names may
	  be required

2017-04-19 13:07  squinney@INF.ED.AC.UK

	* bdb/read.c, lcfg.yml, resources/components.c, resources/diff.c,
	  resources/templates.c, xml/lcfg_xml_reader.c, xml/read.c,
	  xml/resource.c: Updated to match changes to the tags API

2017-04-19 13:06  squinney@INF.ED.AC.UK

	* context/list.c: fixed variable name

2017-04-19 13:06  squinney@INF.ED.AC.UK

	* include/tags.h, resources/tags.c: Reworked the way tags are
	  handled to split the tag struct from the list node struct. Also
	  introduced reference counting so that tags can be shared between
	  lists. Made a start on list mutation functions - just 'add' and
	  'extra' for now

2017-04-18 16:12  squinney@INF.ED.AC.UK

	* context/context.c, context/list.c: check basic validity of
	  context before attempting to insert it into a list

2017-04-18 16:11  squinney@INF.ED.AC.UK

	* packages/list.c, packages/package.c: check basic validity of
	  package before attempting to insert it into a list

2017-04-18 15:20  squinney@INF.ED.AC.UK

	* include/common.h, include/context.h, include/packages.h,
	  include/templates.h: Added doxygen headers and standardised
	  macros which prevent multiple inclusion

2017-04-18 15:17  squinney@INF.ED.AC.UK

	* lcfg.yml, resources/templates.c: Minor tidying

2017-04-18 15:16  squinney@INF.ED.AC.UK

	* include/templates.h: Removed template name functions which are no
	  longer required

2017-04-17 17:28  squinney@INF.ED.AC.UK

	* resources/templates.c: No need to store template name separately
	  from the template string itself

2017-04-17 16:04  squinney@INF.ED.AC.UK

	* include/templates.h, lcfg.yml, resources/templates.c: Minor fixes
	  to silence some warnings

2017-04-17 15:52  squinney@INF.ED.AC.UK

	* lcfg.yml, resources/resource.c: Updates for tweaks to templates
	  API

2017-04-17 15:52  squinney@INF.ED.AC.UK

	* include/resources.h, include/templates.h, resources/templates.c:
	  Moved lcfgresource_build_name to more appropriate location in
	  templates.c

2017-04-17 15:27  squinney@INF.ED.AC.UK

	* include/templates.h, resources/templates.c: Reworked to have an
	  API which is consistent which the rest of the code base

2017-04-17 10:34  squinney@INF.ED.AC.UK

	* lcfg.yml, packages/package.c: Stringifying package as spec or rpm
	  only needs a newline when being printed out so shuffle where that
	  option is set from lcfgpackage_to_string to the lcfgpackage_print
	  function

2017-04-17 08:44  squinney@INF.ED.AC.UK

	* packages/list.c: Added docs for lcfgpkglist_match

2017-04-16 08:25  squinney@INF.ED.AC.UK

	* utils/libmsg.c: Added const to some function args to silence
	  warnings

2017-04-14 17:08  squinney@INF.ED.AC.UK

	* TODO: Added basic TODO

2017-04-14 17:00  squinney@INF.ED.AC.UK

	* lcfg.yml, packages/package.c: drop const from string which needs
	  to be freed

2017-04-14 16:55  squinney@INF.ED.AC.UK

	* packages/CMakeLists.txt, packages/list.c, packages/match.c: Moved
	  match function into main list file as it's not complicated enough
	  to be worth keeping separate

2017-04-14 14:56  squinney@INF.ED.AC.UK

	* ChangeLog, lcfg.yml: lcfg-core release: 1.35.1

2017-04-14 14:55  squinney@INF.ED.AC.UK

	* lcfg.yml, specfile: Temporarily dropped some binaries to avoid
	  conflicts with old lcfg-utils package

2017-04-14 14:47  squinney@INF.ED.AC.UK

	* ChangeLog, lcfg.yml: lcfg-core release: 1.35.0

2017-04-14 14:01  squinney@INF.ED.AC.UK

	* include/packages.h, lcfg.yml, packages/package.c, packages/rpm.c:
	  Added lcfgpackage_to_summary which formats a package in the style
	  used by qxpack. Altered to_cpp and to_xml to only include context
	  and derivation information when USE_META is specified

2017-04-13 15:59  squinney@INF.ED.AC.UK

	* ChangeLog, lcfg.yml: lcfg-core release: 1.34.1

2017-04-13 15:58  squinney@INF.ED.AC.UK

	* packages/ex/search.c, packages/search.c: Moved lcfgpkglist_search
	  code to the examples dir

2017-04-13 15:57  squinney@INF.ED.AC.UK

	* include/packages.h, lcfg.yml, packages/CMakeLists.txt,
	  packages/ex/qxpack.c, packages/match.c: Added a simpler
	  lcfgpkglist_match which uses fnmatch as a replacement for
	  lcfgpkglist_search

2017-04-13 14:27  squinney@INF.ED.AC.UK

	* ChangeLog, lcfg.yml: lcfg-core release: 1.34.0

2017-04-13 14:26  squinney@INF.ED.AC.UK

	* include/packages.h, packages/list.c, packages/package.c,
	  packages/parse_pkgspec.c: Renamed lcfgpackage_from_string to
	  lcfgpackage_from_spec for consistency with lcfgpackage_to_spec.
	  Clears way for adding higher level lcfgpackage_from_string at
	  some point

2017-04-13 14:23  squinney@INF.ED.AC.UK

	* Doxyfile.in, lcfg.yml, packages/ex/mkrpmlist.c,
	  packages/mkrpmlist.c: Moved mkrpmlist to examples. Configured
	  doxygen to ignore any examples

2017-04-13 14:23  squinney@INF.ED.AC.UK

	* packages/package.c: Docs for some macros

2017-04-13 14:09  squinney@INF.ED.AC.UK

	* context/ex, context/ex/setctx.c, context/setctx.c: Moved setctx.c
	  to examples directory

2017-04-13 14:08  squinney@INF.ED.AC.UK

	* packages/ex: Moved mkrpmlist.c to examples directory

2017-04-13 14:08  squinney@INF.ED.AC.UK

	* lcfg.yml, packages/list.c: More docs

2017-04-13 14:07  squinney@INF.ED.AC.UK

	* packages/rpm.c: Fixes to docs

2017-04-13 14:05  squinney@INF.ED.AC.UK

	* include/context.h, include/profile.h, include/resources.h: Added
	  more docs

2017-04-13 14:02  squinney@INF.ED.AC.UK

	* include/bdb.h, include/common.h, include/components.h,
	  include/context.h, include/differences.h, include/packages.h,
	  include/profile.h, include/resources.h, include/tags.h,
	  include/templates.h, include/xml.h: test

2017-04-13 14:00  squinney@INF.ED.AC.UK

	* include/packages.h: test

2017-04-13 13:58  squinney@INF.ED.AC.UK

	* include/bdb.h, include/common.h, include/components.h,
	  include/context.h, include/differences.h, include/packages.h,
	  include/profile.h, include/resources.h, include/tags.h,
	  include/templates.h, include/xml.h: test

2017-04-13 13:57  squinney@INF.ED.AC.UK

	* include/bdb.h, include/common.h, include/components.h,
	  include/context.h, include/differences.h, include/packages.h,
	  include/profile.h, include/resources.h, include/tags.h,
	  include/templates.h, include/xml.h: test

2017-04-13 13:53  squinney@INF.ED.AC.UK

	* include/context.h, include/packages.h, include/resources.h: Added
	  top-level docs

2017-04-13 13:52  squinney@INF.ED.AC.UK

	* include/bdb.h, include/common.h, include/components.h,
	  include/context.h, include/differences.h, include/profile.h,
	  include/resources.h, include/tags.h, include/templates.h,
	  include/xml.h: Set date and revision properties

2017-04-13 13:49  squinney@INF.ED.AC.UK

	* include/packages.h: Added top-level docs

2017-04-13 11:41  squinney@INF.ED.AC.UK

	* include/packages.h: updated spec for lcfgpkglist_from_rpmlist

2017-04-13 11:41  squinney@INF.ED.AC.UK

	* context/list.c: Many minor doc fixes

2017-04-13 11:40  squinney@INF.ED.AC.UK

	* packages/rpm.c: Improved from_rpmlist so that it can ignore
	  non-existent files and also only adds derivations when required

2017-04-13 11:04  squinney@INF.ED.AC.UK

	* packages/list.c, packages/rpm.c: switched to using new
	  lcfgpackage_is_valid function to check package is ok to be
	  printed

2017-04-13 10:50  squinney@INF.ED.AC.UK

	* include/packages.h, packages/package.c: Added new
	  lcfgpackage_is_valid to make it easier to test validity.
	  Currently this just requires that the package has a name

2017-04-12 15:23  squinney@INF.ED.AC.UK

	* include/context.h, lcfg.yml: Improved macro docs

2017-04-12 15:22  squinney@INF.ED.AC.UK

	* lcfg.yml, packages/list.c: Added lots more docs (almost
	  complete). Silenced some warnings

2017-04-12 15:21  squinney@INF.ED.AC.UK

	* include/packages.h: Documented structures, enums and macros

2017-04-12 12:52  squinney@INF.ED.AC.UK

	* packages/package.c: Minor documentation tweaks

2017-04-12 12:51  squinney@INF.ED.AC.UK

	* context/list.c: Minor documentation tweaks

2017-04-12 12:51  squinney@INF.ED.AC.UK

	* include/context.h: lcfgctxlist_is_empty returns true if context
	  list is NULL

2017-04-11 19:07  squinney@INF.ED.AC.UK

	* include/packages.h, packages/package.c, packages/rpm.c: updated
	  spec for lcfgpackage_to_rpm_filename

2017-04-11 19:01  squinney@INF.ED.AC.UK

	* include/packages.h, packages/list.c, packages/package.c,
	  packages/rpm.c: Use cpp to manage string format function
	  arguments to ensure they are always all identical

2017-04-11 14:24  squinney@INF.ED.AC.UK

	* include/packages.h, packages/list.c, packages/rpm.c,
	  profile/profile.c, xml/packages.c: For clarity and to avoid
	  confusion with LCFG_OPT, renamed LCFGPkgOption to LCFGPkgRule and
	  LCFG_PKG_OPT_ to LCFG_PKG_RULE_

2017-04-11 14:15  squinney@INF.ED.AC.UK

	* packages/list.c, packages/rpm.c: Ensure lookup for default arch
	  is only done once when printing out rpm lists

2017-04-11 14:11  squinney@INF.ED.AC.UK

	* packages/package.c: Docs for new lcfgpackage_to_string

2017-04-11 13:57  squinney@INF.ED.AC.UK

	* include/packages.h, packages/package.c: Fixed call to function
	  pointer in lcfgpackage_to_string

2017-04-11 13:47  squinney@INF.ED.AC.UK

	* packages/package.c: tweaked lcfgpackage_to_string

2017-04-11 13:37  squinney@INF.ED.AC.UK

	* include/packages.h: moved LCFGPkgStyle and added docs

2017-04-11 13:34  squinney@INF.ED.AC.UK

	* include/common.h, include/packages.h, packages/list.c,
	  packages/package.c, packages/parse_pkgspec.c, profile/profile.c:
	  Renamed lcfgpackage_to_string as lcfgpackage_to_spec to make it
	  clear that it stringifies packages in the standard lcfg spec
	  style. Added a new lcfgpackage_to_string which works at a
	  slightly higher level and takes a output style parameter which
	  controls which function is actually used. This makes it easier to
	  reuse the core functionality of lcfgpackage_print in
	  lcfgpkglist_print and improve efficiency

2017-04-11 12:55  squinney@INF.ED.AC.UK

	* include/packages.h, lcfg.yml, packages/list.c,
	  packages/package.c, packages/rpm.c, profile/profile.c,
	  xml/packages.c: Renamed LCFG_PKGS_ macros and enum members to
	  LCFG_PKG_ for consistency with other things

2017-04-11 12:51  squinney@INF.ED.AC.UK

	* include/packages.h: Added null opt LCFG_PKGS_OPT_NONE

2017-04-11 12:48  squinney@INF.ED.AC.UK

	* include/packages.h, packages/list.c, profile/profile.c,
	  xml/packages.c: Converted package list merge rules from macros
	  into enum to improve code clarity

2017-04-11 12:35  squinney@INF.ED.AC.UK

	* include/common.h, include/context.h: Added docs for enums

2017-04-11 12:18  squinney@INF.ED.AC.UK

	* packages/package.c, resources/resource.c: Fixed calls to
	  lcfgctxlist_eval_expression now diagnostic message is passed back
	  to parent caller

2017-04-11 12:10  squinney@INF.ED.AC.UK

	* bdb/write.c, context/context.c, context/list.c, include/common.h,
	  include/context.h, include/packages.h, include/resources.h,
	  include/templates.h, packages/list.c, packages/package.c,
	  packages/rpm.c, profile/profile.c, resources/components.c,
	  resources/resource.c, resources/templates.c, xml/read.c:
	  Converted standard options from macros into an enum and modified
	  various functions to use enum instead of unsigned int for options
	  parameter. This makes it much clearer what values are acceptable.

2017-04-11 10:28  squinney@INF.ED.AC.UK

	* include/packages.h, include/resources.h, packages/package.c,
	  resources/resource.c, xml/packages.c, xml/resource.c:
	  eval_priority functions now return diagnostic message when error
	  occurs

2017-04-03 14:04  squinney@INF.ED.AC.UK

	* ChangeLog, lcfg.yml: lcfg-core release: 1.33.0

2017-04-03 13:13  squinney@INF.ED.AC.UK

	* lcfg.yml, packages/iterator.c: Fixed call to lcfgpkglist_acquire

2017-04-03 13:05  squinney@INF.ED.AC.UK

	* include/packages.h, lcfg.yml, packages/list.c: Fixed spec for
	  lcfgpkglist_acquire

2017-04-03 13:03  squinney@INF.ED.AC.UK

	* packages/iterator.c, packages/package.c: Added docs

2017-04-03 12:48  squinney@INF.ED.AC.UK

	* include/packages.h, packages/iterator.c: Moved package iterator
	  to new ref counting for lists, this removes the need for the
	  hacky 'manage' attribute

2017-04-03 12:45  squinney@INF.ED.AC.UK

	* packages/mkrpmlist.c, profile/profile.c: Call
	  lcfgpkglist_relinquish instead of lcfgpkglist_destroy

2017-04-03 12:40  squinney@INF.ED.AC.UK

	* context/context.c, context/list.c, context/tools.c,
	  include/context.h: Renamed lcfgcontext_release to
	  lcfgcontext_relinquish for consistency with packages

2017-04-03 12:40  squinney@INF.ED.AC.UK

	* include/packages.h, packages/package.c, packages/parse_pkgspec.c,
	  packages/rpm.c: Renamed lcfgpackage_release as
	  lcfgpackage_relinquish to avoid potential for confusion with
	  lcfgpackage_set_release and lcfgpackage_get_release

2017-04-03 12:39  squinney@INF.ED.AC.UK

	* packages/list.c: Added reference counting for package lists

2017-04-03 12:20  squinney@INF.ED.AC.UK

	* lcfg.yml, packages/rpm.c: Finished docs. Minor code tweaks to
	  silence compiler warnings

2017-04-03 12:19  squinney@INF.ED.AC.UK

	* include/packages.h: Added spec for default_architecture

2017-04-03 12:19  squinney@INF.ED.AC.UK

	* packages/package.c: Tweaked spec for default_architecture

2017-04-03 12:18  squinney@INF.ED.AC.UK

	* packages/mkrpmlist.c: lcfgpkglist_to_rpmlist now returns the type
	  of change for the file

2017-04-03 11:18  squinney@INF.ED.AC.UK

	* lcfg.yml, packages/rpm.c: Added some more docs.

2017-04-03 11:08  squinney@INF.ED.AC.UK

	* packages/mkrpmlist.c: Example of how to generate an rpmlist file
	  from a directory of RPMs

2017-04-03 10:28  squinney@INF.ED.AC.UK

	* lcfg.yml, packages/package.c, packages/rpm.c: Printing out rpm
	  filenames always requires an architecture so make an effort to
	  find the default architecture when it is not specified

2017-03-31 16:38  squinney@INF.ED.AC.UK

	* packages/rpm.c: Reverted how the package derivation is built
	  lcfgpkglist_from_rpmlist, simpler to use asprintf

2017-03-31 16:37  squinney@INF.ED.AC.UK

	* context/lexer.l: Added function spec for vasprintf to silence
	  warning

2017-03-31 16:21  squinney@INF.ED.AC.UK

	* packages/rpm.c: Made iterating over package lists in to_cpp a lot
	  safer

2017-03-31 16:15  squinney@INF.ED.AC.UK

	* packages/rpm.c: fixed some return types and switched message
	  building from asprintf to lcfgutils_build_message

2017-03-31 14:28  squinney@INF.ED.AC.UK

	* lcfg.yml, packages/rpm.c: Various minor improvements

2017-03-31 14:27  squinney@INF.ED.AC.UK

	* packages/parse_pkgspec.c: fixes for new reference counting

2017-03-31 14:27  squinney@INF.ED.AC.UK

	* packages/list.c: fixes for new reference counting

2017-03-31 14:26  squinney@INF.ED.AC.UK

	* packages/package.c: fixed docs for lcfgpackage_destroy

2017-03-31 13:32  squinney@INF.ED.AC.UK

	* include/packages.h, packages/rpm.c: Various tweaks to standardise
	  the API of functions

2017-03-31 13:28  squinney@INF.ED.AC.UK

	* packages/package.c: Replaced various calls to stpcpy with stpncpy
	  since we have the string lengths to hand

2017-03-31 13:27  squinney@INF.ED.AC.UK

	* context/context.c: replace call to stpcpy with stpncpy since we
	  know how long a newline will be

2017-03-31 12:40  squinney@INF.ED.AC.UK

	* include/packages.h, lcfg.yml, packages/parse_pkgspec.c,
	  packages/rpm.c: Improved and standardised the
	  lcfgpackage_from_rpm_filename function

2017-03-31 12:39  squinney@INF.ED.AC.UK

	* packages/package.c: made invalid_package more generic so that
	  eventually the code can be shared

2017-03-31 12:17  squinney@INF.ED.AC.UK

	* packages/package.c: Completed API docs

2017-03-31 12:12  squinney@INF.ED.AC.UK

	* context/context.c: minor doc fix

2017-03-31 06:20  squinney@INF.ED.AC.UK

	* include/common.h, lcfg.yml, packages/package.c: More docs for
	  from_string function

2017-03-30 17:59  squinney@INF.ED.AC.UK

	* lcfg.yml, resources/resource.c: Removed isword function which is
	  replaced with standard macro

2017-03-30 17:55  squinney@INF.ED.AC.UK

	* context/context.c, include/common.h, packages/package.c: moved
	  isempty and isword macros into common header so they can be
	  reused

2017-03-30 15:14  squinney@INF.ED.AC.UK

	* lcfg.yml, packages/search.c: fixed includes of headers

2017-03-30 15:12  squinney@INF.ED.AC.UK

	* packages/CMakeLists.txt, packages/list.c, packages/search.c:
	  split out search functionality for easier maintenance

2017-03-30 15:10  squinney@INF.ED.AC.UK

	* packages/list.c: Reworked the while-loops which iterate over the
	  package list into for-loops so they are safer

2017-03-30 14:55  squinney@INF.ED.AC.UK

	* packages/list.c, packages/rpm.c: Added assertions to many
	  functions to ensure they are called correctly

2017-03-30 13:53  squinney@INF.ED.AC.UK

	* context/list.c, include/context.h: renamed _insert_after to
	  _insert_next and _remove_after to _remove_next for consistency
	  with other core libs

2017-03-30 13:52  squinney@INF.ED.AC.UK

	* packages/package.c: put package spec docs back into correct place

2017-03-30 13:36  squinney@INF.ED.AC.UK

	* include/packages.h, lcfg.yml, packages/package.c,
	  packages/parse_pkgspec.c, profile/profile.c: Merged package style
	  enums

2017-03-30 13:36  squinney@INF.ED.AC.UK

	* packages/list.c: Improved printing of package lists as xml by
	  also printing opening and closing tags

2017-03-30 12:42  squinney@INF.ED.AC.UK

	* include/packages.h, lcfg.yml, packages/list.c, profile/profile.c:
	  Introduced a new LCFGPkgStyle enum and use it in
	  lcfgpackage_print and lcfgpkglist_print to control how the
	  packages are printed out

2017-03-30 12:42  squinney@INF.ED.AC.UK

	* packages/package.c: Introduced an invalid_package function to
	  improve error message generation

2017-03-30 12:22  squinney@INF.ED.AC.UK

	* include/packages.h: Added lcfgpackage_acquire and
	  lcfgpackage_release

2017-03-30 10:52  squinney@INF.ED.AC.UK

	* packages/package.c: Added assertions where appropriate to protect
	  against being called with a NULL package

2017-03-30 06:13  squinney@INF.ED.AC.UK

	* ChangeLog, lcfg.yml: lcfg-core release: 1.32.1

2017-03-30 06:07  squinney@INF.ED.AC.UK

	* context/tools.c: missing semi-colon

2017-03-30 06:05  squinney@INF.ED.AC.UK

	* context/tools.c, include/context.h: lcfgcontext_update_pending
	  now returns the updated pending contexts list

2017-03-30 05:42  squinney@INF.ED.AC.UK

	* ChangeLog, lcfg.yml: lcfg-core release: 1.32.0

2017-03-30 05:34  squinney@INF.ED.AC.UK

	* context/context.c: Fixed lcfgcontext_valid_expression

2017-03-30 05:31  squinney@INF.ED.AC.UK

	* context/context.c, context/lexer.l, include/context.h,
	  packages/package.c, resources/resource.c:
	  lcfgcontext_valid_expression now returns a diagnostic message for
	  invalid strings

2017-03-30 05:30  squinney@INF.ED.AC.UK

	* context/scanner.c: Added docs for lcfgctx_scanner_errmsg

2017-03-29 15:34  squinney@INF.ED.AC.UK

	* context/context.c, context/lexer.l, context/scanner.c,
	  context/tools.c, include/context.h, lcfg.yml, packages/package.c,
	  resources/resource.c: Improved error handling in the context
	  expression scanner so that a useful message is returned when bad
	  things happen

2017-03-29 15:06  squinney@INF.ED.AC.UK

	* context/list.c: Improved how various functions iterate through
	  context list items

2017-03-29 14:06  squinney@INF.ED.AC.UK

	* context/context.c, context/list.c: Fixed lcfgctxlist_print to
	  properly ignore contexts with missing name or value.
	  lcfgctxlist_sort_by_priority now doesn't bother if less than 2
	  items in list

2017-03-28 14:14  squinney@INF.ED.AC.UK

	* include/packages.h: Dropped nonnull attribute which doesn't work
	  the way I hoped

2017-03-28 14:04  squinney@INF.ED.AC.UK

	* packages/list.c: Updated for changes to package reference
	  counting

2017-03-28 13:47  squinney@INF.ED.AC.UK

	* packages/CMakeLists.txt, packages/list.c, packages/pkglists.c:
	  Renamed package list file for consistency

2017-03-28 13:47  squinney@INF.ED.AC.UK

	* packages/package.c: Reworked reference counting to use
	  lcfgpackage_acquire and lcfgpackage_release

2017-03-28 11:07  squinney@INF.ED.AC.UK

	* include/context.h: fixed comment marker

2017-03-28 11:03  squinney@INF.ED.AC.UK

	* include/context.h: Documented structs and macros

2017-03-28 10:34  squinney@INF.ED.AC.UK

	* xml/lcfg_xml_reader.c: Tweaked context directory

2017-03-28 10:33  squinney@INF.ED.AC.UK

	* context/CMakeLists.txt, context/setctx.c, include/context.h,
	  lcfg.yml, specfile: Avoid installing setctx, just keep it as an
	  example

2017-03-27 15:17  squinney@INF.ED.AC.UK

	* context/context.c: changed the default priority to 1 and made the
	  validity check only allow context priority values greater than
	  zero

2017-03-27 13:53  squinney@INF.ED.AC.UK

	* context/list.c, context/scanner.c, context/tools.c: Minor
	  improvements to the docs

2017-03-22 20:00  squinney@INF.ED.AC.UK

	* context/parser.y: Added a destructor to remove some chances to
	  leak memory

2017-03-22 15:38  squinney@INF.ED.AC.UK

	* ChangeLog, lcfg.yml: lcfg-core release: 1.31.0

2017-03-22 15:36  squinney@INF.ED.AC.UK

	* context/tools.c, lcfg.yml: completed API docs

2017-03-22 15:07  squinney@INF.ED.AC.UK

	* context/tools.c: Added more API docs

2017-03-22 15:07  squinney@INF.ED.AC.UK

	* include/context.h: lcfgcontext_pending_to_active needs to also
	  pass through the context profile directory path

2017-03-22 14:22  squinney@INF.ED.AC.UK

	* context/setctx.c, context/tools.c: Moved some functions from
	  setctx into tools so that they are available for using elsewhere

2017-03-22 14:21  squinney@INF.ED.AC.UK

	* Doxyfile.in: Excluded a few internal C files

2017-03-22 13:54  squinney@INF.ED.AC.UK

	* context/scanner.c, lcfg.yml: Added API docs

2017-03-21 17:20  squinney@INF.ED.AC.UK

	* context/list.c: lcfgctxlist_simple_query can be called with a
	  NULL context list

2017-03-21 17:14  squinney@INF.ED.AC.UK

	* context/lexer.l: need to escape xor '^' symbol in lexer

2017-03-21 17:10  squinney@INF.ED.AC.UK

	* context/lexer.l, context/parser.y: Added support for XOR, tidied
	  up AND and OR

2017-03-21 17:10  squinney@INF.ED.AC.UK

	* context/CMakeLists.txt: need to search context source directory
	  for includes

2017-03-21 13:59  squinney@INF.ED.AC.UK

	* context/context.c, context/list.c, include/common.h, lcfg.yml:
	  Completed API docs for context lists

2017-03-20 14:20  squinney@INF.ED.AC.UK

	* context/list.c: Tweaked lcfgctxist_print so that it avoids
	  contexts with no name

2017-03-20 14:02  squinney@INF.ED.AC.UK

	* context/context.c: Finished API docs

2017-03-17 15:42  squinney@INF.ED.AC.UK

	* context/context.c, lcfg.yml: Started documenting functions

2017-03-17 14:09  squinney@INF.ED.AC.UK

	* context/context.c, context/list.c, context/tools.c,
	  include/utils.h.in, lcfg.yml, utils/utils.c: Added a simple
	  lcfgutils_build_message function and use it for context code

2017-03-17 13:50  squinney@INF.ED.AC.UK

	* context/CMakeLists.txt, context/ctxlexer.l, context/ctxlist.c,
	  context/ctxparser.y, context/lexer.l, context/list.c,
	  context/parser.y: Renamed some files for neatness

2017-03-17 12:11  squinney@INF.ED.AC.UK

	* context/setctx.c, include/packages.h, include/resources.h,
	  lcfg.yml, packages/package.c, resources/resource.c,
	  xml/packages.c, xml/resource.c: Updated for change to
	  lcfgctxlist_eval_expression API

2017-03-17 12:10  squinney@INF.ED.AC.UK

	* context/context.c: lcfgcontext_valid_expression now uses
	  lcfgctxlist_eval_expression to check validity of non-empty
	  strings

2017-03-17 12:00  squinney@INF.ED.AC.UK

	* context/context.c: Ensure that the priority associated with a
	  context is always positive

2017-03-17 11:44  squinney@INF.ED.AC.UK

	* context/ctxparser.y, context/scanner.c, include/context.h,
	  lcfg.yml: Added support for AND and OR in context queries. Tidied
	  up code.

2017-03-17 10:43  squinney@INF.ED.AC.UK

	* context/CMakeLists.txt, context/ctxlexer.l, context/ctxlist.c,
	  context/ctxparser.y, context/scanner.c, lcfg.yml:
	  lcfgctxlist_eval_expression can now handle simple queries (no AND
	  or OR yet)

2017-03-16 18:04  squinney@INF.ED.AC.UK

	* context/ctxlist.c: Fixed remove_after when called with head

2017-03-16 17:28  squinney@INF.ED.AC.UK

	* context/ctxlist.c: need to release context once it has been added
	  to the list in from_file

2017-03-16 17:21  squinney@INF.ED.AC.UK

	* context/context.c: fixed missing semi-colon

2017-03-16 17:18  squinney@INF.ED.AC.UK

	* context/context.c: Fixed call to strdup in _bracketify_expression

2017-03-16 17:14  squinney@INF.ED.AC.UK

	* context/context.c, context/ctxlist.c, context/tools.c,
	  include/context.h: Modified many functions to check the context
	  is not NULL using an assert (and dropped some attributes which
	  were not the right way to do it). Also improved reference
	  counting implementation

2017-03-16 12:40  squinney@INF.ED.AC.UK

	* context/ctxlist.c, include/common.h, include/context.h: Added
	  lcfgctxlist_simple_query which can be used to make a very simple
	  query using the given context list

2017-03-15 15:02  squinney@INF.ED.AC.UK

	* context/ctxparser.y, lcfg.yml: Tweaked so that bison 2.7 (the
	  default on EL7) is supported

2017-03-15 15:02  squinney@INF.ED.AC.UK

	* context/CMakeLists.txt: Run bison and flex to generate scanner
	  code

2017-03-15 14:35  squinney@INF.ED.AC.UK

	* CMakeLists.txt, include/utils.h.cin, include/utils.h.in: changed
	  suffix to avoid clash with lcfg buildtools pre-processed files

2017-03-15 14:35  squinney@INF.ED.AC.UK

	* utils/CMakeLists.txt, utils/dnsdomainname.cin: Dropped ancient
	  dnsdomainname helper script which is never needed

2017-03-15 14:29  squinney@INF.ED.AC.UK

	* CMakeLists.txt, include/utils.h.cin, specfile: Added LCFGLOG and
	  LCFGTMP cmake variables to make the code configurable at
	  build-time, this is only used for the utils library

2017-03-15 14:28  squinney@INF.ED.AC.UK

	* utils/libmsg.c: Added a new LCFG_LogDir function to handle the
	  discovery of the log directory.

2017-03-15 11:42  squinney@INF.ED.AC.UK

	* include/utils.h.cin, lcfg.yml, specfile, utils/CMakeLists.txt,
	  utils/lcfgack.c, utils/libmsg.c: Removed lcfgack utility which is
	  now part of the lcfg-client package

2017-03-14 20:07  squinney@INF.ED.AC.UK

	* context/CMakeLists.txt: run bison

2017-03-14 20:07  squinney@INF.ED.AC.UK

	* specfile: Added build-dep on bison and flex

2017-03-14 15:15  squinney@INF.ED.AC.UK

	* context/ctxlexer.l, context/ctxparser.y, context/scanner.c: First
	  check-in of new code for lexing/parsing and evaluating context
	  expressions

2016-10-28 14:39  squinney@INF.ED.AC.UK

	* bdb/write.c: Added more doxygen docs

2016-10-28 11:43  squinney@INF.ED.AC.UK

	* bdb/write.c: moved a couple of variable declarations in
	  lcfgprofile_to_bdb so they are always available when jumping to
	  cleanup

2016-10-28 11:21  squinney@INF.ED.AC.UK

	* bdb/read.c: Added doxygen docs for functions.

2016-10-28 11:21  squinney@INF.ED.AC.UK

	* bdb/write.c, include/bdb.h: Renamed lcfgbdb_end_reader to
	  lcfgbdb_close_db for clarity

2016-10-13 09:56  squinney@INF.ED.AC.UK

	* utils/CMakeLists.txt: Need to install compiled binaries using the
	  TARGETS option

2016-10-13 09:47  squinney@INF.ED.AC.UK

	* lcfg.yml, resources/components.c: Added cast to silence warning
	  about how lcfgtaglist_append is called

2016-10-07 13:30  squinney@INF.ED.AC.UK

	* ChangeLog, lcfg.yml: lcfg-core release: 1.30.1

2016-10-07 13:11  squinney@INF.ED.AC.UK

	* packages/pkglists.c: Need to dup the default architecture string
	  for each pacakge where is needed

2016-10-07 13:06  squinney@INF.ED.AC.UK

	* packages/pkglists.c: Improved error handling for
	  lcfgpkglist_from_cpp

2016-10-07 12:44  squinney@INF.ED.AC.UK

	* include/packages.h, packages/pkglists.c: Added support for
	  specifying the default architecture when read a package list from
	  a cpp-style file

2016-10-07 11:05  squinney@INF.ED.AC.UK

	* ChangeLog, lcfg.yml: lcfg-core release: 1.30.0

2016-10-07 11:04  squinney@INF.ED.AC.UK

	* packages/pkglists.c: Use @LCFGTMP@ instead of /tmp for temporary
	  file directory

2016-10-07 11:03  squinney@INF.ED.AC.UK

	* include/common.h, include/packages.h, lcfg.yml,
	  packages/pkglists.c: Completely reworked lcfgpkglist_from_cpp, it
	  now uses a temporary output file which is parsed. There is no
	  longer any trapping of stdout/stderr from the cpp command, just
	  let any messages go to the console of the caller, this makes
	  things much simpler

2016-10-04 13:40  squinney@INF.ED.AC.UK

	* lcfg.yml, utils/utils.c: Finished adding doxygen docs for
	  functions

2016-10-04 09:40  squinney@INF.ED.AC.UK

	* bdb/write.c, context/context.c, include/utils.h.cin, lcfg.yml,
	  packages/package.c, profile/profile.c, resources/resource.c,
	  utils/utils.c: Tweaked various util functions so that things
	  should not explode if a NULL is passed in

2016-09-21 17:13  squinney@INF.ED.AC.UK

	* packages/pkglists.c: pass -nostdinc to cpp

2016-09-21 14:19  squinney@INF.ED.AC.UK

	* packages/pkglists.c: wait in a different place

2016-09-21 14:09  squinney@INF.ED.AC.UK

	* packages/pkglists.c: waitpid instead of wait

2016-09-21 14:01  squinney@INF.ED.AC.UK

	* packages/pkglists.c: wait for child and check exit status when
	  running cpp

2016-09-21 13:47  squinney@INF.ED.AC.UK

	* utils/utils.c: Needed to include dirent.h

2016-09-21 13:45  squinney@INF.ED.AC.UK

	* packages/pkglists.c: Improved error handling when calling cpp
	  program fails

2016-09-21 12:48  squinney@INF.ED.AC.UK

	* include/utils.h.cin, packages/pkglists.c, utils/utils.c: Added
	  lcfgutils_file_readable which can be used to test if a file or
	  directory is readable

2016-09-21 09:49  squinney@INF.ED.AC.UK

	* packages/pkglists.c: Ignore newline characters when reading cpp
	  package list

2016-09-21 09:41  squinney@INF.ED.AC.UK

	* packages/pkglists.c: Need to include unistd.h

2016-09-21 09:39  squinney@INF.ED.AC.UK

	* include/packages.h, packages/pkglists.c: Added first attempt at
	  lfgpkglist_from_cpp which can read a package list from an rpmcfg
	  file

2016-09-09 13:10  squinney@INF.ED.AC.UK

	* context/context.c, lcfg.yml: Updated lcfgcontext_is_false to be
	  consistent with the boolean canonicalisation for resource values.
	  This also fixes a bug where any value string beginning with a 0
	  (zero) would be considered false

2016-09-08 15:48  squinney@INF.ED.AC.UK

	* bdb/write.c: Write the priority for a resource into the DB using
	  the correct key

2016-09-08 13:50  squinney@INF.ED.AC.UK

	* bdb/read.c, xml/components.c: Ensure the profile component is
	  always loaded even when only looking for specific components.
	  This ensures useful metadata is always easily accessible

2016-09-08 13:28  squinney@INF.ED.AC.UK

	* ChangeLog, lcfg.yml: lcfg-core release: 1.29.1

2016-09-07 10:51  squinney@INF.ED.AC.UK

	* resources/complist.c: When loading components from a status dir
	  ignore any file name which is not a valid component name

2016-09-07 09:14  squinney@INF.ED.AC.UK

	* profile/diff.c: Be more careful when destroying a LCFGDiffProfile
	  struct

2016-09-07 09:13  squinney@INF.ED.AC.UK

	* include/differences.h: use unsigned int for profile diff size
	  attribute

2016-09-02 14:31  squinney@INF.ED.AC.UK

	* packages/pkglists.c, packages/rpm.c: Only normally process
	  'active' packages in lists

2016-09-02 09:29  squinney@INF.ED.AC.UK

	* Doxyfile.in, lcfg.yml: avoid doxygen running over cmake generated
	  files

2016-09-02 09:09  squinney@INF.ED.AC.UK

	* ChangeLog, lcfg.yml: lcfg-core release: 1.29.0

2016-09-02 09:08  squinney@INF.ED.AC.UK

	* docs/lcfgpackageiterator.pod.cin, docs/lcfgpackagelib.pod.cin,
	  docs/lcfgpackagelist.pod.cin, docs/lcfgpackagespec.pod.cin,
	  docs/lcfgresource.pod.cin: Removed old out-of-date documentation

2016-09-02 09:08  squinney@INF.ED.AC.UK

	* lcfg.yml, specfile: Generate devel docs

2016-09-01 17:28  squinney@INF.ED.AC.UK

	* Doxyfile.in: optimize docs for C code

2016-09-01 17:25  squinney@INF.ED.AC.UK

	* specfile: Avoid including docs for now

2016-09-01 17:23  squinney@INF.ED.AC.UK

	* CMakeLists.txt, include/utils.h.cin, lcfg.yml,
	  utils/CMakeLists.txt: Translate any macros before packing the
	  source. Also various tweaks to the cmake to avoid needing the
	  entire set of lcfg cmake files

2016-09-01 16:31  squinney@INF.ED.AC.UK

	* resources/components.c: Various checks to ensure that only
	  'active' resources are used

2016-09-01 16:30  squinney@INF.ED.AC.UK

	* resources/diff.c: Only interested in finding the differences
	  between 'active' resources in components

2016-09-01 16:29  squinney@INF.ED.AC.UK

	* include/components.h: dropped lcfgcomponent_remove_resource
	  function as it is not used and doesn't work quite as it should

2016-08-31 08:44  squinney@INF.ED.AC.UK

	* include/templates.h, resources/templates.c: field name parameter
	  in lcfgtemplate_find should always be non-null

2016-08-26 16:29  squinney@INF.ED.AC.UK

	* ChangeLog, lcfg.yml: lcfg-core release: 1.28.2

2016-08-26 16:27  squinney@INF.ED.AC.UK

	* packages/rpm.c: fixed package list rules from from_rpmlist and
	  from_rpmdir

2016-08-26 15:52  squinney@INF.ED.AC.UK

	* ChangeLog, lcfg.yml: lcfg-core release: 1.28.1

2016-08-26 15:16  squinney@INF.ED.AC.UK

	* lcfg.yml, resources/diff.c: Added missing variable declaration in
	  lcfgresourcediff_get_name

2016-08-26 14:57  squinney@INF.ED.AC.UK

	* include/differences.h, resources/diff.c: Updated
	  lcfgdiffresource_to_string to match the standard buffer-based
	  string building approach

2016-08-26 14:14  squinney@INF.ED.AC.UK

	* resources/diff.c: Reworked lcfgdiffresource_get_name so that it
	  can handle the 'old' resource not having a name

2016-08-19 16:13  squinney@INF.ED.AC.UK

	* ChangeLog, lcfg.yml: lcfg-core release: 1.28.0

2016-08-19 16:11  squinney@INF.ED.AC.UK

	* xml/packages.c: Added semi-colon

2016-08-19 16:07  squinney@INF.ED.AC.UK

	* include/packages.h, lcfg.yml, packages/pkglists.c,
	  packages/rpm.c, profile/profile.c, xml/packages.c: Reworked the
	  package list merging support. The rules are now defined on a
	  per-list basis which makes merging in of packages and lists much
	  more straightforward and predictable.

2016-08-05 15:52  squinney@INF.ED.AC.UK

	* ChangeLog, lcfg.yml: lcfg-core release: 1.27.2

2016-08-05 15:52  squinney@INF.ED.AC.UK

	* specfile: Fixed build dependency for Berkeley DB on SL6

2016-08-05 15:15  squinney@INF.ED.AC.UK

	* ChangeLog, lcfg.yml: lcfg-core release: 1.27.1

2016-08-05 14:31  squinney@INF.ED.AC.UK

	* include/resources.h, lcfg.yml, resources/components.c,
	  resources/resource.c: Added new lcfgresource_to_export which will
	  format the resource as a shell export statement which can be
	  passed through eval

2016-08-04 11:41  squinney@INF.ED.AC.UK

	* ChangeLog, lcfg.yml: lcfg-core release: 1.27.0

2016-08-04 11:39  squinney@INF.ED.AC.UK

	* include/packages.h, lcfg.yml, packages/package.c: Added
	  lcfgpackage_clear_flags function to make it straightforward to
	  clear any flags on a package

2016-08-04 10:39  squinney@INF.ED.AC.UK

	* include/resources.h, lcfg.yml, resources/resource.c: Added
	  lcfgresource_is_true function which checks if the value for the
	  resource is true. For booleans the only true value is yes, for
	  anything else NULL, empty string and zero are false and all other
	  values are true

2016-08-03 13:47  squinney@INF.ED.AC.UK

	* resources/resource.c: For predictability lcfgresource_compare
	  will always compare values as strings rather than doing anything
	  type-based, this means a sorted list always comes out in the same
	  order

2016-08-03 13:40  squinney@INF.ED.AC.UK

	* include/resources.h, lcfg.yml, resources/resource.c: Added
	  lcfgresource_compare_values which will do the right thing when
	  both resources are integers or booleans and otherwise do a string
	  comparison. Reworked lcfgresource_same_value to use
	  lcfgresource_compare_values

2016-07-22 15:15  squinney@INF.ED.AC.UK

	* ChangeLog, lcfg.yml: lcfg-core release: 1.26.2

2016-07-22 15:14  squinney@INF.ED.AC.UK

	* include/packages.h, lcfg.yml, packages/package.c,
	  packages/parse_pkgspec.c: Reworked lcfgpackage_from_string to be
	  more robust and extracted some common repeated functionality into
	  separate functions to avoid the potential for copy/paste errors.
	  Also now tolerates white space in many places in the input spec

2016-07-21 13:11  squinney@INF.ED.AC.UK

	* ChangeLog, lcfg.yml: lcfg-core release: 1.26.1

2016-07-21 13:11  squinney@INF.ED.AC.UK

	* include/packages.h, lcfg.yml, packages/iterator.c,
	  packages/package.c, packages/parse_pkgspec.c,
	  packages/pkglists.c, packages/rpm.c, xml/packages.c: Further
	  renaming to switch from 'pkgspec' to 'pkg'

2016-07-21 12:34  squinney@INF.ED.AC.UK

	* ChangeLog, lcfg.yml: lcfg-core release: 1.26.0

2016-07-21 12:33  squinney@INF.ED.AC.UK

	* include/packages.h, include/xml.h, lcfg.yml, packages/iterator.c,
	  packages/package.c, packages/parse_pkgspec.c,
	  packages/pkglists.c, packages/rpm.c, xml/packages.c: Renamed
	  LCFGPackageSpec to LCFGPackage, renamed lcfgpkgspec_ functions to
	  lcfgpackage_

2016-07-20 15:10  squinney@INF.ED.AC.UK

	* ChangeLog, lcfg.yml: lcfg-core release: 1.25.5

2016-07-20 14:25  squinney@INF.ED.AC.UK

	* packages/pkglists.c: Prevent merge_pkgspec from including the
	  same struct multiple times in a list

2016-07-20 10:38  squinney@INF.ED.AC.UK

	* packages/package.c: Added docs for many functions

2016-07-20 10:38  squinney@INF.ED.AC.UK

	* resources/resource.c: Minor docs tweaks

2016-07-20 08:54  squinney@INF.ED.AC.UK

	* packages/CMakeLists.txt, packages/package.c, packages/packages.c:
	  Renamed to singular

2016-07-19 09:44  squinney@INF.ED.AC.UK

	* lcfg.yml, resources/resource.c: Added more docs

2016-07-19 09:44  squinney@INF.ED.AC.UK

	* xml/resource.c: Ensure that lcfgresource_canon_boolean has not
	  returned NULL which indicates an error

2016-07-18 15:09  squinney@INF.ED.AC.UK

	* resources/resource.c: passing an empty string to
	  lcfgresource_set_template_as_string will now set the template to
	  NULL since lists can legally have no templates

2016-07-18 15:08  squinney@INF.ED.AC.UK

	* resources/resource.c: Added docs for template functions

2016-07-18 14:22  squinney@INF.ED.AC.UK

	* resources/resource.c: escaped % signs

2016-07-18 14:15  squinney@INF.ED.AC.UK

	* resources/resource.c: Fixed lcfgresource_set_type_as_string
	  variable name

2016-07-18 14:14  squinney@INF.ED.AC.UK

	* resources/resource.c: Added docs for type functions

2016-07-18 13:14  squinney@INF.ED.AC.UK

	* resources/resource.c: Testing a few doc tweaks

2016-07-18 13:04  squinney@INF.ED.AC.UK

	* resources/resource.c: Testing a few doc tweaks

2016-07-18 12:59  squinney@INF.ED.AC.UK

	* resources/resource.c: Made a start on adding documentation for
	  functions

2016-07-18 12:18  squinney@INF.ED.AC.UK

	* resources/CMakeLists.txt, resources/resource.c,
	  resources/resources.c: renamed to singular

2016-07-18 12:15  squinney@INF.ED.AC.UK

	* CMakeLists.txt, Doxyfile.in, lcfg.yml: Added support for running
	  doxygen on the code base to generate documentation

2016-07-15 11:11  squinney@INF.ED.AC.UK

	* ChangeLog, lcfg.yml: lcfg-core release: 1.25.4

2016-07-15 11:10  squinney@INF.ED.AC.UK

	* lcfg.yml, resources/resources.c: fixed wrong variable name

2016-07-15 09:17  squinney@INF.ED.AC.UK

	* resources/resources.c: tweaked the string building in a couple of
	  places to be more robust

2016-07-15 08:57  squinney@INF.ED.AC.UK

	* resources/resources.c: ignore any leading whitespace in the new
	  value passed to lcfgresource_set_type_as_string

2016-07-14 08:16  squinney@INF.ED.AC.UK

	* ChangeLog, lcfg.yml: lcfg-core release: 1.25.3

2016-07-14 08:16  squinney@INF.ED.AC.UK

	* lcfg.yml: Changed name for project

2016-07-14 08:12  squinney@INF.ED.AC.UK

	* .: Renamed lcfg-profilelib as lcfg-core

2016-07-14 08:07  squinney@INF.ED.AC.UK

	* Added some missing build dependencies. Reinstated the various
	  utilities which were previously shipped with lcfg-utils. This
	  package now provides lcfg-utils and lcfg-utils-devel.

2016-07-14 08:06  squinney@INF.ED.AC.UK

	* Set cmake project type to 'C'

2016-07-13 15:17  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.25.2

2016-07-13 14:47  squinney@INF.ED.AC.UK

	* lcfgcontext_from_string now removes all leading and trailing
	  whitespace from names and values

2016-07-13 09:16  squinney@INF.ED.AC.UK

	* lcfgprofile_has_component now only searches the component list
	  when it is not NULL. lcfgprofile_find_component returns NULL
	  immediately if the component list is NULL

2016-07-13 09:15  squinney@INF.ED.AC.UK

	* lcfgcomplist_find_node will now return a NULL when the list is
	  NULL

2016-07-12 09:57  squinney@INF.ED.AC.UK

	* Altered lcfgctxlist_find_context and lcfgctxlist_find_node so
	  that they return NULL when the ctxlist is NULL

2016-07-12 09:40  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.25.1

2016-07-11 15:22  squinney@INF.ED.AC.UK

	* Fixed arch handling in lcfgpkgspec_to_xml

2016-07-11 15:12  squinney@INF.ED.AC.UK

	* Added lcfgpkgspec_to_xml function, this generates the format used
	  in the XML profile for server/client transfer

2016-07-11 14:11  squinney@INF.ED.AC.UK

	* improved default error message for merge_pkgspec

2016-07-11 14:04  squinney@INF.ED.AC.UK

	* Fixed NULL check on msg variable

2016-07-11 13:54  squinney@INF.ED.AC.UK

	* Added support for '~' prefix which means 'append to list only if
	  the package is not already present in the list'

2016-07-11 13:39  squinney@INF.ED.AC.UK

	* Assign message correctly when merging and prefix conflict occurs

2016-07-11 13:35  squinney@INF.ED.AC.UK

	* Allow '=' as a prefix, this is for pinning a specific version
	  which cannot be overridden

2016-07-11 13:25  squinney@INF.ED.AC.UK

	* fixed variable name

2016-07-11 13:24  squinney@INF.ED.AC.UK

	* Improved the logic of lcfgpkglist_merge_pkgspec so that it is
	  simpler to reject when a conflict occurs

2016-07-01 15:10  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.25.0

2016-07-01 14:34  squinney@INF.ED.AC.UK

	* Reworked the lcfgpkglist_merge_pkgspec and lcfgpkglist_merge_list
	  functions so that they can now take options which control which
	  merge rules apply. This can now handle merging based on prefix as
	  well as priority

2016-07-01 05:50  squinney@INF.ED.AC.UK

	* Minor code tidying

2016-07-01 05:37  squinney@INF.ED.AC.UK

	* Minor code tidying

2016-06-30 14:20  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.24.4

2016-06-30 14:20  squinney@INF.ED.AC.UK

	* Added lots more nonnull attributes to function declarations

2016-06-30 13:42  squinney@INF.ED.AC.UK

	* Added nonnull attributes to more functions

2016-06-30 07:53  squinney@INF.ED.AC.UK

	* Functions which take no arguments are now declared with void

2016-06-30 07:36  squinney@INF.ED.AC.UK

	* fixed declaration for lcfgresourcenode_destroy

2016-06-30 07:32  squinney@INF.ED.AC.UK

	* Added more missing declarations to headers. Marked some functions
	  as static

2016-06-30 07:16  squinney@INF.ED.AC.UK

	* needs to include stdio for FILE type.

2016-06-29 10:25  squinney@INF.ED.AC.UK

	* Removed unnecessary non-null checks

2016-06-29 10:20  squinney@INF.ED.AC.UK

	* removed extra semi-colon

2016-06-29 10:16  squinney@INF.ED.AC.UK

	* Added attributes to more functions and made the existing ones
	  consistent

2016-06-29 10:02  squinney@INF.ED.AC.UK

	* tidied up calls to free()

2016-06-29 09:56  squinney@INF.ED.AC.UK

	* Tidied up a couple of checks on parameter values

2016-06-29 09:51  squinney@INF.ED.AC.UK

	* Added missing 'const'

2016-06-29 09:50  squinney@INF.ED.AC.UK

	* Set attributes on many functions to help avoid calling with null
	  value

2016-06-29 09:18  squinney@INF.ED.AC.UK

	* moved list of type names so it's not defined multiple times

2016-06-29 09:14  squinney@INF.ED.AC.UK

	* fixed typo in lcfgresource_get_type_as_string

2016-06-29 09:01  squinney@INF.ED.AC.UK

	* Added list of type names to make it easier to lookup using the
	  values in the LCFGResourceType enum

2016-06-29 08:37  squinney@INF.ED.AC.UK

	* Reworked lcfgutils_trim_whitespace so that it uses size_t types
	  for string lengths

2016-06-24 15:02  squinney@INF.ED.AC.UK

	* Tidied the code by adding nonnull attributes to many function
	  specs

2016-06-24 14:46  squinney@INF.ED.AC.UK

	* Tidied the code by adding nonnull attributes to many function
	  specs

2016-06-23 14:18  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.24.3

2016-06-23 14:18  squinney@INF.ED.AC.UK

	* fixed lcfgprofile_get_meta function call

2016-06-23 12:06  squinney@INF.ED.AC.UK

	* The BDB key namespace is actually just profile.node rather than
	  the full node name with domain

2016-06-23 11:55  squinney@INF.ED.AC.UK

	* Tidied lcfgutils_join_strings

2016-06-23 11:54  squinney@INF.ED.AC.UK

	* Fixed logic in lcfgresource_value_is_empty

2016-06-23 11:54  squinney@INF.ED.AC.UK

	* fixed logic in lcfgprofile_nodename for checking if profile
	  component was found

2016-06-23 11:10  squinney@INF.ED.AC.UK

	* Added namespace support to lcfgprofile_from_bdb and
	  lcfgcomponent_from_bdb, if specified the keys for the DB entries
	  must have that namespace (i.e. same hostname)

2016-06-23 10:02  squinney@INF.ED.AC.UK

	* fixed lcfgprofile_get_meta

2016-06-23 09:56  squinney@INF.ED.AC.UK

	* need to include utils.h

2016-06-23 09:54  squinney@INF.ED.AC.UK

	* Added new lcfgprofile_get_meta function which can be used to
	  easily lookup values of resources in the 'profile' component.
	  Also added lcfgprofile_nodename which returns the nodename for
	  the profile based on the profile.node and profile.domain
	  resources. lcfgprofile_to_bdb will now use lcfgprofile_nodename
	  to get the 'namespace' for keys when none is specified

2016-06-21 08:13  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.24.2

2016-06-21 08:10  squinney@INF.ED.AC.UK

	* reworked part of lcfgprofile_diff to improve error checking

2016-06-21 08:10  squinney@INF.ED.AC.UK

	* fixed lcfgcontext_update_pending so the changed variable is
	  always defined before use

2016-06-21 08:09  squinney@INF.ED.AC.UK

	* silenced warning about calling lcfgtaglist_append

2016-06-20 15:08  squinney@INF.ED.AC.UK

	* need _GNU_SOURCE for asprintf

2016-06-20 14:46  squinney@INF.ED.AC.UK

	* Cast from ssize_t to size_t for comparison in
	  lcfgresource_build_key(), safe enough since already checked it's
	  not negative

2016-06-20 14:35  squinney@INF.ED.AC.UK

	* Reworked some assert() calls to avoid compiler warnings about
	  signed/unsigned comparisons

2016-06-20 13:46  squinney@INF.ED.AC.UK

	* Use size_t rather than ssize_t to avoid sign problems with
	  comparisons

2016-06-20 13:31  squinney@INF.ED.AC.UK

	* More tweaks to resolve compiler warnings

2016-06-20 09:29  squinney@INF.ED.AC.UK

	* more fixes for compiler warnings

2016-06-20 09:11  squinney@INF.ED.AC.UK

	* Small fixes for compiler warnings

2016-06-20 09:01  squinney@INF.ED.AC.UK

	* Small fixes for compiler warnings

2016-06-17 10:49  squinney@INF.ED.AC.UK

	* various minor fixes to resolve warnings

2016-06-17 09:21  squinney@INF.ED.AC.UK

	* fixed function name in get_type_as_string

2016-06-17 09:19  squinney@INF.ED.AC.UK

	* Various minor improvements to reduce number of warnings

2016-06-17 08:49  squinney@INF.ED.AC.UK

	* Check status returned by various functions

2016-06-16 14:22  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.24.1

2016-06-16 14:21  squinney@INF.ED.AC.UK

	* pending_to_active no longer returns the value for the 'secure'
	  context, can be found from the active list when required. Added
	  has_name function to simplify perl wrapper code. find_ctx is
	  renamed to find_context for clarity

2016-06-16 12:10  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.24.0

2016-06-16 12:09  squinney@INF.ED.AC.UK

	* Reverted change to list of which sub-dirs get built

2016-06-16 10:53  squinney@INF.ED.AC.UK

	* update_pending now checks that the context directory exists and
	  is accessible before doing any work

2016-06-16 10:41  squinney@INF.ED.AC.UK

	* Modified the way trailing whitespace is avoided in
	  lcfgcontext_from_string and avoid dupping an empty string

2016-06-15 14:39  squinney@INF.ED.AC.UK

	* Check context directory exists before starting work in
	  pending2active

2016-06-15 14:30  squinney@INF.ED.AC.UK

	* Reworked pending2active to avoid memory leaks when errors occur

2016-06-15 14:18  squinney@INF.ED.AC.UK

	* Finishing off pending2active

2016-06-14 15:25  squinney@INF.ED.AC.UK

	* Added spec for lcfgctxlist_find_ctx

2016-06-14 15:03  squinney@INF.ED.AC.UK

	* lcfgcontext_pending2active now retrieves the securesig when it is
	  available

2016-06-14 14:13  squinney@INF.ED.AC.UK

	* Fixed return values for update_pending

2016-06-14 14:06  squinney@INF.ED.AC.UK

	* Fixed call to setctx_update

2016-06-14 14:05  squinney@INF.ED.AC.UK

	* Updated lcfgcontext_tmpfile to return a FILE pointer as well as
	  the filename

2016-06-14 13:57  squinney@INF.ED.AC.UK

	* New lcfgcontext_update_pending to replace store_pending, this has
	  locking and should be more reliable

2016-06-14 11:05  squinney@INF.ED.AC.UK

	* Rewrote setctx_update to use lcfgcontext_update_pending, this
	  makes the code a lot nicer

2016-06-14 11:04  squinney@INF.ED.AC.UK

	* Replaced store_pending with update_pending which properly handles
	  the necessary locking

2016-06-13 16:29  squinney@INF.ED.AC.UK

	* fixed call to lcfgcontext_load_active

2016-06-13 15:14  squinney@INF.ED.AC.UK

	* Reworked the contect library so that the directory is not
	  hardwired. Also a few improvements to ensure memory is always
	  freed when errors occur

2016-06-13 15:06  squinney@INF.ED.AC.UK

	* Yet more tweaking of catfile so that it generates sensible paths
	  for various different directories

2016-06-13 14:11  squinney@INF.ED.AC.UK

	* Improved catfile so that there is a single '/' where the two
	  strings are joined

2016-06-13 12:51  squinney@INF.ED.AC.UK

	* Tidied lcfgutils_catfile, switched to using size_t for string
	  lengths

2016-06-12 16:01  squinney@INF.ED.AC.UK

	* use signed type for handling some string lengths, negative value
	  indicates error

2016-06-12 15:50  squinney@INF.ED.AC.UK

	* use signed type for handling some string lengths, negative value
	  indicates error

2016-06-12 15:49  squinney@INF.ED.AC.UK

	* fixed spec for lcfgcontext_pending2active

2016-06-10 15:39  squinney@INF.ED.AC.UK

	* Fixed locations of pod and man files for when binary and source
	  dirs are different

2016-06-10 14:31  squinney@INF.ED.AC.UK

	* For header and pkgconfig files need to install those in both
	  source and binary directories

2016-06-10 14:03  squinney@INF.ED.AC.UK

	* Fixed include path for when the binary and source directories are
	  not the same location

2016-06-10 13:52  squinney@INF.ED.AC.UK

	* Added more build notes

2016-06-10 12:04  squinney@INF.ED.AC.UK

	* Started work on support for activating the new pending contexts

2016-06-08 08:37  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.23.0

2016-06-06 17:21  squinney@INF.ED.AC.UK

	* Added a note about how packages should be merged into lists

2016-06-06 17:20  squinney@INF.ED.AC.UK

	* equals will also compare contexts

2016-05-23 13:13  squinney@INF.ED.AC.UK

	* basic ref-counting for component and resource diff structs

2016-05-23 10:14  squinney@INF.ED.AC.UK

	* Added lcfgdiffcomponent_find_resource and
	  lcfgdiffcomponent_has_resource

2016-05-23 10:04  squinney@INF.ED.AC.UK

	* Added lcfgdiffresource_is_changed and
	  lcfgdiffcomponent_is_changed

2016-05-23 09:55  squinney@INF.ED.AC.UK

	* Added lcfgdiffprofile_find_component and
	  lcfgdiffprofile_has_component

2016-05-23 09:55  squinney@INF.ED.AC.UK

	* avoid passing a NULL component name into strcmp in the
	  lcfgcomplist_find_component function

2016-05-20 11:27  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.22.1

2016-05-20 11:17  squinney@INF.ED.AC.UK

	* Added pkg-config files for all the libraries

2016-05-19 14:45  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.22.0

2016-05-19 14:40  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.21.0

2016-05-19 14:29  squinney@INF.ED.AC.UK

	* to_string now encodes the values when the LCFG_OPT_ENCODE option
	  is specified, also to_status will now call to_string with that
	  option so that the generated files are safe

2016-05-19 14:17  squinney@INF.ED.AC.UK

	* Added lcfgresource_enc_value which will do a numeric
	  html-encoding of newlines and carriage return characters in the
	  resource values to make it safe for status files

2016-05-19 11:50  squinney@INF.ED.AC.UK

	* Pass the new hold file signature back to the caller so that it
	  can be easily used in a comparison with an externally specified
	  value

2016-05-19 10:51  squinney@INF.ED.AC.UK

	* Correctly handle the status returned from
	  lcfgdiffcomponent_to_holdfile

2016-05-19 10:48  squinney@INF.ED.AC.UK

	* Added useful messages for failures in lcfgdiffprofile_to_holdfile

2016-05-19 10:39  squinney@INF.ED.AC.UK

	* lcfgprofile_diff will now pass back a message when it fails to
	  diff a component

2016-05-19 10:13  squinney@INF.ED.AC.UK

	* include md5 code

2016-05-19 10:13  squinney@INF.ED.AC.UK

	* link against lcfg_utils

2016-05-19 10:05  squinney@INF.ED.AC.UK

	* Need to include utils.h for definition of md5_state_t

2016-05-19 10:04  squinney@INF.ED.AC.UK

	* Added support to lcfgdiffprofile_to_holdfile for generating the
	  md5sum signature of the changes

2016-05-19 09:37  squinney@INF.ED.AC.UK

	* need to free string buffer after generating holdfile entries for
	  a component

2016-05-19 09:35  squinney@INF.ED.AC.UK

	* Reworked the way the component and resource diffs are stored in
	  the holdfile for secure mode. This paves the way for generating
	  the md5sum of the stored data.

2016-05-19 08:47  squinney@INF.ED.AC.UK

	* Added utility functions to generate the md5sum for a string

2016-05-13 14:51  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.20.1

2016-05-13 11:03  squinney@INF.ED.AC.UK

	* Fixed the way that lcfgpkgspec_to_cpp assembles the output string
	  when the package spec has meta-data

2016-05-13 08:36  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.20.0

2016-05-13 08:36  squinney@INF.ED.AC.UK

	* Made lcfgcomponent_diff safe against either component being NULL

2016-05-13 08:35  squinney@INF.ED.AC.UK

	* Fixed error-handling logic in lcfgprofile_diff

2016-05-12 15:23  squinney@INF.ED.AC.UK

	* Added a change type for the component diffs which indicates
	  whether the entire component has been added, removed or modified

2016-05-12 13:42  squinney@INF.ED.AC.UK

	* Reworked the lcfgprofile_diff API to match lcfgcomponent_diff and
	  lcfgresource_diff

2016-05-10 10:59  squinney@INF.ED.AC.UK

	* Reworked API for lcfgresource_diff and lcfgcomponent_diff so that
	  they return a status value.

2016-05-09 15:26  squinney@INF.ED.AC.UK

	* is_deleted is now named is_removed

2016-05-09 10:37  squinney@INF.ED.AC.UK

	* Fixed the call to lcfgprofile_from_xml within the
	  lcfgprofile_overrides_xmldir function

2016-05-06 08:14  squinney@INF.ED.AC.UK

	* Simplified the code by reworking various functions so that they
	  take a taglist of component names rather than a string of
	  comma-separated names

2016-05-06 08:12  squinney@INF.ED.AC.UK

	* lcfgtaglist_from_string now only appends a tag to the list if the
	  name is valid

2016-05-03 13:49  squinney@INF.ED.AC.UK

	* Reworked the various diff interfaces to use the standard
	  LCFGChange and LCFGStatus types

2016-05-03 13:46  squinney@INF.ED.AC.UK

	* fixed variable name

2016-04-29 16:05  squinney@INF.ED.AC.UK

	* lcfgpkglist_from_rpm_dir will now only parse the names of files
	  with the .rpm suffix (rather than all directory entries)

2016-04-29 15:47  squinney@INF.ED.AC.UK

	* use unsigned int as index in for loops in lcfgpkglist_search

2016-04-29 15:44  squinney@INF.ED.AC.UK

	* use size_t instead of int for string lengths in
	  lcfgpkgspec_add_flags

2016-04-29 15:24  squinney@INF.ED.AC.UK

	* minor tweaks to lcfgcomplist_find_or_create_component to avoid
	  possibility of attempt to free NULL string

2016-04-29 15:17  squinney@INF.ED.AC.UK

	* ensure the result from lcfgcomponent_get_resources_as_string does
	  not contain duplicate resource names

2016-04-29 14:20  squinney@INF.ED.AC.UK

	* Made lcfgresource_parse_key more robust against badly formatted
	  keys

2016-04-28 16:37  squinney@INF.ED.AC.UK

	* Added support for parsing rpm file names as well as package specs

2016-04-28 16:15  squinney@INF.ED.AC.UK

	* tweaked the way for() is used in lcfgpkgspec_from_rpm_filename so
	  that the index can be unsigned (which more closely matches with
	  expectations)

2016-04-28 10:47  squinney@INF.ED.AC.UK

	* Refactored lcfgpkgspec_from_rpm_filename so that the handling of
	  bad input data is a lot more robust

2016-04-28 10:44  squinney@INF.ED.AC.UK

	* Enabled extra warnings to catch problems with unsigned vars

2016-04-22 11:09  squinney@INF.ED.AC.UK

	* Fixed type of string length var in lcfgresource_build_name which
	  could become negative

2016-04-22 11:07  squinney@INF.ED.AC.UK

	* decode any html-entities in value strings loaded from status
	  files

2016-04-22 11:07  squinney@INF.ED.AC.UK

	* Added support for decoding html entities in strings

2016-04-21 16:18  squinney@INF.ED.AC.UK

	* tweaked debug statements

2016-04-21 16:18  squinney@INF.ED.AC.UK

	* Tweaked how new template structs are created so that the code is
	  clearer

2016-04-21 15:44  squinney@INF.ED.AC.UK

	* pre-allocate a buffer for the package cpp generation to avoid
	  many large allocations

2016-04-20 13:31  squinney@INF.ED.AC.UK

	* Fixed status handling for lcfgcomponent_from_statusfile in
	  lcfgcomplist_from_status_dir

2016-04-20 13:31  squinney@INF.ED.AC.UK

	* Only call lcfgcomplist_to_bdb when a profile has components

2016-04-19 09:03  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.19.4

2016-04-19 09:01  squinney@INF.ED.AC.UK

	* Fixed the architecture handling in lcfgpkgspec_to_string for the
	  case when a package arch is the same as the default

2016-04-18 15:16  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.19.3

2016-04-18 15:16  squinney@INF.ED.AC.UK

	* shuffled static string to better location

2016-04-18 09:09  squinney@INF.ED.AC.UK

	* lcfgcomponent_to_env now also sets the _RESOURCES environment
	  variable which holds the sorted list of resource names for the
	  component

2016-04-15 16:18  squinney@INF.ED.AC.UK

	* needed to include assert.h

2016-04-15 16:03  squinney@INF.ED.AC.UK

	* Added basic support for exporting resources into the environment

2016-04-15 14:00  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.19.2

2016-04-15 13:58  squinney@INF.ED.AC.UK

	* need libdb-devel as a build dependency

2016-04-15 13:28  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.19.1

2016-04-15 13:12  squinney@INF.ED.AC.UK

	* fixed change variable type

2016-04-15 13:06  squinney@INF.ED.AC.UK

	* Use the standard LCFG_CHANGE names instead of LCFGPKGLIST_CHANGE

2016-04-15 12:59  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.19.0

2016-04-15 12:56  squinney@INF.ED.AC.UK

	* Minor improvements to handling context override profiles

2016-04-14 16:39  squinney@INF.ED.AC.UK

	* Improved handling of package list merges so that a reasonable
	  change type is always returned

2016-04-14 15:49  squinney@INF.ED.AC.UK

	* Use LCFG_PACKAGE_WILDCARD macro instead of hardwired string

2016-04-14 15:35  squinney@INF.ED.AC.UK

	* some struct params are really unsigned int

2016-04-14 15:34  squinney@INF.ED.AC.UK

	* use size_t instead of int for strlen result

2016-04-14 15:32  squinney@INF.ED.AC.UK

	* Reworked functions which returned LCFGPkgListChangeType to use
	  the common LCFGChange type instead

2016-04-14 14:02  squinney@INF.ED.AC.UK

	* Minor tidying, in particular switching to more appropriate
	  variable types (e.g. size_t or bool instead of int)

2016-04-12 13:53  squinney@INF.ED.AC.UK

	* fixed call to fprintf which was missing an argument

2016-04-12 13:50  squinney@INF.ED.AC.UK

	* added spec for lcfgcomponent_has_name

2016-04-12 13:46  squinney@INF.ED.AC.UK

	* fixed handling of error message when lcfgcontext_from_string
	  fails

2016-04-12 13:37  squinney@INF.ED.AC.UK

	* fixed variable name

2016-04-12 13:37  squinney@INF.ED.AC.UK

	* Fixed spec for lcfgcomplist_transplant_components

2016-04-12 13:34  squinney@INF.ED.AC.UK

	* Added support for applying context specific overrides to the
	  components/resources and packages

2016-04-12 09:25  squinney@INF.ED.AC.UK

	* Improved the handling of the XML profile override directory

2016-03-31 15:42  squinney@INF.ED.AC.UK

	* updated the various functions for stringifying package specs so
	  that they are much more memory-efficient when writing lists to
	  files

2016-03-31 08:20  squinney@INF.ED.AC.UK

	* Converted packages code over to using the standard LCFG_OPT_
	  macros for options

2016-03-31 07:06  squinney@INF.ED.AC.UK

	* Added support for diffing with the previously stashed profile

2016-03-31 07:05  squinney@INF.ED.AC.UK

	* Added support for allowing the bdb file to not exist when
	  attempting to read

2016-03-30 11:24  squinney@INF.ED.AC.UK

	* updated for new lcfg_xml library name

2016-03-30 11:24  squinney@INF.ED.AC.UK

	* Now writes out a Berkeley BD and an rpmcfg on success

2016-03-30 11:23  squinney@INF.ED.AC.UK

	* updated spec for lcfgpkglist_to_rpmcfg

2016-03-30 11:22  squinney@INF.ED.AC.UK

	* lcfgprofile_write_rpmcfg now returns whether or not the rpmcfg
	  was modified

2016-03-30 11:22  squinney@INF.ED.AC.UK

	* lcfgpkglist_to_rpmcfg now returns whether or not the rpmcfg was
	  modified

2016-03-30 11:21  squinney@INF.ED.AC.UK

	* removed spurious return

2016-03-29 16:21  squinney@INF.ED.AC.UK

	* Added lcfgcomplist_to_status_dir which will write a status file
	  for each component into the named directory and also added a
	  lcfgprofile_to_status_dir wrapper

2016-03-29 16:16  squinney@INF.ED.AC.UK

	* Renamed to be consistent with bdb code

2016-03-29 14:03  squinney@INF.ED.AC.UK

	* renamed lcfgxml_process_profile to lcfgprofile_from_xml
	  everywhere

2016-03-29 13:57  squinney@INF.ED.AC.UK

	* renamed lcfgxml_process_profile to more standard
	  lcfgprofile_from_xml

2016-03-29 13:56  squinney@INF.ED.AC.UK

	* Tweaked function specs to return LCFGStatus type

2016-03-29 13:46  squinney@INF.ED.AC.UK

	* Renamed xmlreader to xml. Standarised all status handling on the
	  LCFGStatus type.

2016-03-29 12:33  squinney@INF.ED.AC.UK

	* Added note of packages required on Debian

2016-03-28 18:00  squinney@INF.ED.AC.UK

	* minor tidying

2016-03-28 18:00  squinney@INF.ED.AC.UK

	* check result of strdup is not NULL

2016-03-28 17:59  squinney@INF.ED.AC.UK

	* check result of strdup is not NULL

2016-03-28 17:27  squinney@INF.ED.AC.UK

	* renamed file for consistency

2016-03-28 17:17  squinney@INF.ED.AC.UK

	* Added lcfgcomponent_diff

2016-03-28 17:17  squinney@INF.ED.AC.UK

	* updated calls to lcfgresource_build_key for latest API

2016-03-28 14:34  squinney@INF.ED.AC.UK

	* Tidying and small improvements in error handling for reading bdb
	  files

2016-03-28 14:02  squinney@INF.ED.AC.UK

	* Improved the error checking in the profile print functions

2016-03-28 13:51  squinney@INF.ED.AC.UK

	* reworked lcfgcomponent_print to use the pre-allocated buffer
	  forms of lcfgresource_to_status and lcfgresource_to_string so
	  that it is much more efficient

2016-03-28 13:50  squinney@INF.ED.AC.UK

	* Tidied lcfgcomplist_print

2016-03-28 13:48  squinney@INF.ED.AC.UK

	* use appropriate types, e.g. size_t rather than int

2016-03-28 13:47  squinney@INF.ED.AC.UK

	* tidying and comments

2016-03-28 13:09  squinney@INF.ED.AC.UK

	* Renamed LCFG_CHANGE_DELETED to LCFG_CHANGE_REMOVED so it is
	  clearer what it means

2016-03-28 13:07  squinney@INF.ED.AC.UK

	* For consistency various functions have changed to now return
	  LCFGChange values

2016-03-28 13:07  squinney@INF.ED.AC.UK

	* For consistency various functions have changed to now return
	  LCFGChange values

2016-03-28 13:06  squinney@INF.ED.AC.UK

	* Shuffled the diff functions into a single file so they are easier
	  to find. For consistency various functions have changed to now
	  return LCFGChange values.

2016-03-28 13:04  squinney@INF.ED.AC.UK

	* need to include common.h

2016-03-28 13:03  squinney@INF.ED.AC.UK

	* Attempting to make the headers more readable by splitting out the
	  components and the diffs functions into separate headers

2016-03-28 13:01  squinney@INF.ED.AC.UK

	* For consistency lcfgpkglist_to_rpmcfg now returns an LCFGStatus
	  value instead of an int

2016-03-25 16:10  squinney@INF.ED.AC.UK

	* Added code to create an initial string buffer with a reasonable
	  size for the to_statusfile function. This should help minimise
	  the number of reallocations required.

2016-03-25 15:48  squinney@INF.ED.AC.UK

	* tweaked counter type in lcfgtemplate_new()

2016-03-25 15:23  squinney@INF.ED.AC.UK

	* Updated lcfgcomponent_to_statusfile to use lcfgresource_to_status
	  directly, this should improve the use of memory

2016-03-25 15:06  squinney@INF.ED.AC.UK

	* Reworked lcfgresource_to_status to the new standard API and made
	  it much more maintainable

2016-03-25 15:06  squinney@INF.ED.AC.UK

	* Introduced LCFG_RESOURCE_SYMBOL_VALUE which is just a nul, this
	  is for consistency and makes the code more readable

2016-03-25 13:51  squinney@INF.ED.AC.UK

	* Reworked lcfgresource_to_string to calculate key length and
	  insert the key string using the new common functions. The aim is
	  to share this functionality with all code that needs to build
	  resource keys (e.g. writing into bdb and status files)

2016-03-25 13:49  squinney@INF.ED.AC.UK

	* Fixed error codes returned if lcfgcontext_from_string fails

2016-03-25 13:49  squinney@INF.ED.AC.UK

	* lcfgresource_build_key has moved into the main resources.c file

2016-03-25 13:48  squinney@INF.ED.AC.UK

	* Fixed spec for lcfgtemplate_from_string

2016-03-25 11:22  squinney@INF.ED.AC.UK

	* Standardised various macro names and switched to new common ones
	  where appropriate

2016-03-25 09:27  squinney@INF.ED.AC.UK

	* Standardised interface for lcfgcontext_from_string

2016-03-25 08:48  squinney@INF.ED.AC.UK

	* Reworked lcfgtemplate_from_string to have a standard interface

2016-03-25 08:32  squinney@INF.ED.AC.UK

	* Various small tweaks to make the tag handling more robust

2016-03-24 19:58  squinney@INF.ED.AC.UK

	* need to define _GNU_SOURCE for asprintf

2016-03-24 19:57  squinney@INF.ED.AC.UK

	* use correct function for building error message

2016-03-24 19:55  squinney@INF.ED.AC.UK

	* fixed call to lcfgtaglist_append

2016-03-24 19:51  squinney@INF.ED.AC.UK

	* fixed definitions of status variable

2016-03-24 19:48  squinney@INF.ED.AC.UK

	* fixed variable name

2016-03-24 19:44  squinney@INF.ED.AC.UK

	* Updated lcfgtaglist_from_string API to be consistent and use new
	  common types

2016-03-24 19:38  squinney@INF.ED.AC.UK

	* Updated various context function APIs to be consistent and use
	  new common types

2016-03-24 15:27  squinney@INF.ED.AC.UK

	* Improved the efficiency and robustness of the context handling

2016-03-24 15:26  squinney@INF.ED.AC.UK

	* needs to include utils.h

2016-03-24 12:08  squinney@INF.ED.AC.UK

	* Updated lcfgtemplate_to_string and lcfgtaglist_to_string to use
	  stpcpy for building strings, this makes the code a lot cleaner.
	  Also updated them both to return the length of the strings
	  created or -1 for errors. lcfgtaglist_to_string will also now
	  return an empty string when the list is empty

2016-03-23 13:56  squinney@INF.ED.AC.UK

	* Fixed changes to lcfgtemplate_new

2016-03-23 13:53  squinney@INF.ED.AC.UK

	* Various minor improvements to make the templates API more robust
	  and consistent

2016-03-23 13:50  squinney@INF.ED.AC.UK

	* Moved template definitions into a separate header for clarity

2016-03-23 13:47  squinney@INF.ED.AC.UK

	* need to include string.h for size_t definition

2016-03-23 13:07  squinney@INF.ED.AC.UK

	* MAX_TAGS is now LCFG_TAGS_MAX_DEPTH

2016-03-23 13:05  squinney@INF.ED.AC.UK

	* silenced compiler warning in
	  lcfgcomponent_get_resources_as_string when calling
	  lcfgtaglist_append

2016-03-23 13:04  squinney@INF.ED.AC.UK

	* fixed variable name in lcfgcomponent_get_resources_as_string

2016-03-23 13:02  squinney@INF.ED.AC.UK

	* Fixed bug with use of '==' instead of '='

2016-03-23 13:01  squinney@INF.ED.AC.UK

	* updated for the changes in the common LCFGStatus type

2016-03-23 12:55  squinney@INF.ED.AC.UK

	* Minor updates to match the recent changes to the taglist API

2016-03-23 12:54  squinney@INF.ED.AC.UK

	* Minor updates to match the recent changes to the taglist API

2016-03-23 11:56  squinney@INF.ED.AC.UK

	* Updated to use common types and options. Also various other code
	  tidying and efficiency improvements

2016-03-23 11:56  squinney@INF.ED.AC.UK

	* Added common stringification options

2016-03-23 11:52  squinney@INF.ED.AC.UK

	* Moved all the tags stuff into a separate header for easier
	  reference

2016-03-21 09:36  squinney@INF.ED.AC.UK

	* Added lcfgprofile_from_status_dir which is a wrapper around
	  lcfgcomplist_from_status_dir

2016-03-21 09:35  squinney@INF.ED.AC.UK

	* Added lcfgcomplist_from_status_dir to load a profile from a
	  directory full of status files

2016-03-21 09:34  squinney@INF.ED.AC.UK

	* Needed to chomp newlines from lines in status files. Tweaked
	  error messages for set_attribute in from_statusfile

2016-03-21 09:24  squinney@INF.ED.AC.UK

	* Added lcfgutils_chomp function which can be used to trim trailing
	  newline characters from a string

2016-03-18 12:08  squinney@INF.ED.AC.UK

	* Reworked lcfgcomponent_to_bdb to reduce the number of memory
	  allocations required

2016-03-18 12:05  squinney@INF.ED.AC.UK

	* fixed variable name

2016-03-18 09:45  squinney@INF.ED.AC.UK

	* Added lcfgtaglist_find_tag function and altered
	  lcfgtaglist_contains to use that function

2016-03-17 17:09  squinney@INF.ED.AC.UK

	* mostly completed the support for writing to a berkeley DB file

2016-03-17 17:09  squinney@INF.ED.AC.UK

	* Added a manage flag for taglist which can be used to disable the
	  freeing of stashed tags when the list is destroyed

2016-03-17 17:08  squinney@INF.ED.AC.UK

	* Added lcfgcomponent_get_resources_as_string which returns a
	  space-separated list of resource names

2016-03-17 17:07  squinney@INF.ED.AC.UK

	* Added lcfgresource_get_priority_as_string to make it easy to
	  serialise the priority

2016-03-17 12:07  squinney@INF.ED.AC.UK

	* Get the required mtime for the file from the profile struct

2016-03-17 12:04  squinney@INF.ED.AC.UK

	* Started on support for writing a profile into a Berkeley DB file

2016-03-17 12:03  squinney@INF.ED.AC.UK

	* Added lcfgutils_dirname which will return the directory name for
	  a path in the same way as the dirname command

2016-03-17 12:02  squinney@INF.ED.AC.UK

	* ensure unlink is only called on the tmpfile when the variable is
	  not NULL

2016-03-17 09:56  squinney@INF.ED.AC.UK

	* Added lcfgcomponent_from_bdb which can load a single named
	  component from the DB file. Also simplified the APIs as the
	  context stuff is irrelevant in this situation

2016-03-17 09:55  squinney@INF.ED.AC.UK

	* Added lcfg_bdb library

2016-03-17 09:54  squinney@INF.ED.AC.UK

	* By default lcfgcomponent_print now only prints out resources with
	  values, same as qxprof behaviour

2016-03-16 20:10  squinney@INF.ED.AC.UK

	* reworked to use new common status type and general improvements
	  to error handling

2016-03-16 15:53  squinney@INF.ED.AC.UK

	* Added the start of new support for reading profiles from Berkeley
	  DB files

2016-03-16 15:52  squinney@INF.ED.AC.UK

	* Updated lcfgcomponent_from_statusfile to use the new
	  lcfgresource_parse_key and lcfgresource_set_attribute functions

2016-03-16 15:42  squinney@INF.ED.AC.UK

	* Added lcfgresource_set_attribute which will set the required
	  resource attribute based on the specified type-symbol. Also fixed
	  set_type_as_string which was getting upset with list types that
	  had no associated template.

2016-03-16 12:03  squinney@INF.ED.AC.UK

	* Needed to include sys/types.h

2016-03-16 12:03  squinney@INF.ED.AC.UK

	* Added an lcfgresource_parse_key function for parsing the keys
	  used in status and DB files

2016-03-16 10:09  squinney@INF.ED.AC.UK

	* Added support for finding the differences between two profiles
	  and generating a 'hold' file

2016-03-16 09:12  squinney@INF.ED.AC.UK

	* fixed function name

2016-03-15 16:03  squinney@INF.ED.AC.UK

	* Added lcfgdiffcomponent_sort which will sort the diffs into order
	  by resource name, this is useful so that the generated holdfile
	  output is the same each time

2016-03-15 16:02  squinney@INF.ED.AC.UK

	* lcfgcomponent_diff can now handle the old or new components being
	  NULL (signifies add or delete of entire component)

2016-03-15 11:50  squinney@INF.ED.AC.UK

	* Added support for finding the detailed differences between two
	  components

2016-03-15 09:31  squinney@INF.ED.AC.UK

	* Added lcfgcomponent_remove_resource function for removing a named
	  resource

2016-03-15 09:30  squinney@INF.ED.AC.UK

	* Added a lcfgdiffresource_to_holdfile function which will print
	  the details of the resource diff to the holdfile stream

2016-03-14 18:33  squinney@INF.ED.AC.UK

	* Various minor bug fixes

2016-03-14 18:31  squinney@INF.ED.AC.UK

	* Added lcfgresource_diff

2016-03-14 18:31  squinney@INF.ED.AC.UK

	* Added resdiff.c

2016-03-14 18:30  squinney@INF.ED.AC.UK

	* Fixed var names in lcfgresource_diff

2016-03-14 18:00  squinney@INF.ED.AC.UK

	* If both old and new resources are available the
	  lcfgdiffresource_get_type function will compare values when
	  called in case either has changed

2016-03-14 17:26  squinney@INF.ED.AC.UK

	* Added lcfgresource_diff function which can be used to find the
	  differences between two resources

2016-03-14 17:25  squinney@INF.ED.AC.UK

	* Added new LCFGDiffResource struct and suite of functions

2016-03-14 17:24  squinney@INF.ED.AC.UK

	* Switched from 'removed' to 'deleted' for diff type

2016-03-14 17:24  squinney@INF.ED.AC.UK

	* Switched from 'removed' to 'deleted' for diff type

2016-03-14 14:51  squinney@INF.ED.AC.UK

	* new quickdiff functions

2016-03-14 14:51  squinney@INF.ED.AC.UK

	* Added lcfgprofile_quickdiff which is a thin wrapper around
	  lcfgcomplist_quickdiff

2016-03-14 14:51  squinney@INF.ED.AC.UK

	* Added lcfgprofile_quickdiff which is a thin wrapper around
	  lcfgcomplist_quickdiff

2016-03-14 14:50  squinney@INF.ED.AC.UK

	* Added lcfgcomplist_quickdiff which will compare two lists of
	  components and return lists of components which have been added,
	  removed or have modified values for resources

2016-03-14 14:48  squinney@INF.ED.AC.UK

	* Added lcfgcomponent_quickdiff which will compare the resources
	  for two components and return a value which indicates whether
	  there is no change, or anything is added, removed or modified

2016-03-14 14:47  squinney@INF.ED.AC.UK

	* Added lcfgtaglist_sort function to sort the taglist by name. Also
	  modified lcfgtaglist_destroy to be safe for calling on a NULL
	  value

2016-03-10 10:49  squinney@INF.ED.AC.UK

	* Added some convenient accessors for the various attributes stored
	  in the LCFGProfile struct. Also added some functions which just
	  wrap the equivalent lcfgcomplist functions

2016-03-10 10:16  squinney@INF.ED.AC.UK

	* made lcfgcomplist_find_node safe for calling on a NULL

2016-03-09 17:26  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.18.0

2016-03-09 17:25  squinney@INF.ED.AC.UK

	* Improved the error messages for lcfgcomponent_from_statusfile

2016-03-09 14:46  squinney@INF.ED.AC.UK

	* has_value will now return false if the string is empty which
	  matches better with expectations

2016-03-09 14:46  squinney@INF.ED.AC.UK

	* needs to include string.h

2016-03-09 10:30  squinney@INF.ED.AC.UK

	* Now need to make copies of the component name locally

2016-03-09 10:20  squinney@INF.ED.AC.UK

	* Added lcfgcomponent_set_name. Reworked lcfgcomponent_new to not
	  set the name. Do the setting of the component name separately so
	  that the validity of the name can be checked more easily

2016-03-09 09:45  squinney@INF.ED.AC.UK

	* Altered lcfgcomponent_from_statusfile so that it is possible to
	  only specify the filename. The component name is then taken as
	  the basename of the path

2016-03-07 19:26  squinney@INF.ED.AC.UK

	* Tweaked lcfgresource_build_message so that it does not emit the
	  resource type when it is just the default 'string'

2016-03-07 15:27  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.17.0

2016-03-07 14:52  squinney@INF.ED.AC.UK

	* Fixed lcfgcomplist_find_or_create_component function name

2016-03-07 14:52  squinney@INF.ED.AC.UK

	* needs to include stdbool.h

2016-03-07 14:41  squinney@INF.ED.AC.UK

	* Improved lcfgxml_process_profile so that it is more readable and
	  less likely to leak memory if an error occurs

2016-03-07 14:39  squinney@INF.ED.AC.UK

	* Removed some declarations for private functions

2016-03-07 14:39  squinney@INF.ED.AC.UK

	* Couple of comments added

2016-03-07 14:39  squinney@INF.ED.AC.UK

	* Minor tidying

2016-03-07 14:07  squinney@INF.ED.AC.UK

	* Removed lcfgxml_endswith and swapped to using lcfgutils_endswith
	  everywhere

2016-03-07 13:37  squinney@INF.ED.AC.UK

	* Added lcfgcomplist_find_or_create_component and
	  lcfgprofile_find_or_create_component which is a simple convenient
	  wrapper

2016-03-07 12:02  squinney@INF.ED.AC.UK

	* lcfgprofile_transplant_components will create a new empty
	  component list if necessary

2016-03-06 06:35  squinney@INF.ED.AC.UK

	* Added lcfgprofile_write_rpmcfg which is a convenient thin wrapper
	  around lcfgpkglist_to_rpmcfg

2016-03-04 15:32  squinney@INF.ED.AC.UK

	* Moved lcfgxml_process_override_profiles and
	  lcfgxml_process_context_profiles into main library so they can be
	  reused

2016-03-04 15:29  squinney@INF.ED.AC.UK

	* Added lcfgprofile_transplant_components which is a simple
	  convenient wrapper around lcfgcomplist_transplant_components

2016-03-04 15:29  squinney@INF.ED.AC.UK

	* Added lcfgutils_endswith and lcfgutils_basename function

2016-03-04 12:31  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.16.0

2016-03-04 12:30  squinney@INF.ED.AC.UK

	* Lots of tidying and standardisation. Should also no longer leak
	  memory on failure to set a valid value

2016-03-04 10:45  squinney@INF.ED.AC.UK

	* Added validation for new values when mutating tag lists

2016-03-04 10:44  squinney@INF.ED.AC.UK

	* for consistency lcfgresource_unset_value now returns a boolean
	  value

2016-03-02 19:50  squinney@INF.ED.AC.UK

	* need to grab nodename for error message

2016-03-02 19:45  squinney@INF.ED.AC.UK

	* Code tidying

2016-03-02 17:32  squinney@INF.ED.AC.UK

	* declare status variable in correct location

2016-03-02 17:30  squinney@INF.ED.AC.UK

	* lots of code tidying

2016-03-02 17:27  squinney@INF.ED.AC.UK

	* free memory correctly if release value is invalid

2016-03-02 14:48  squinney@INF.ED.AC.UK

	* Avoid small memory leak when resource name is invalid

2016-03-02 14:48  squinney@INF.ED.AC.UK

	* corrected resource name validation check

2016-03-02 14:43  squinney@INF.ED.AC.UK

	* added missing semi-colon

2016-03-02 14:42  squinney@INF.ED.AC.UK

	* Reworked clone function to be more robust

2016-03-02 14:34  squinney@INF.ED.AC.UK

	* code tidying

2016-03-02 14:34  squinney@INF.ED.AC.UK

	* Added validation of context expression

2016-03-02 14:15  squinney@INF.ED.AC.UK

	* Added missing semi-colon

2016-03-02 14:14  squinney@INF.ED.AC.UK

	* fixed default part of switch in from_statusfile to handle weird
	  limitation of C

2016-03-02 14:09  squinney@INF.ED.AC.UK

	* Tidied switch statement in from_statusfile function

2016-03-02 14:02  squinney@INF.ED.AC.UK

	* needs to include stdbool.h

2016-03-02 14:01  squinney@INF.ED.AC.UK

	* corrected variable name in catfile function

2016-03-02 14:00  squinney@INF.ED.AC.UK

	* need to include utils.h

2016-03-02 13:59  squinney@INF.ED.AC.UK

	* Transferred the lcfgutils_catfile to the common utils library so
	  it is available for reuse elsewhere

2016-03-02 13:52  squinney@INF.ED.AC.UK

	* Improved the robustness of the component list handling

2016-03-02 13:12  squinney@INF.ED.AC.UK

	* Ensure lcfgcomponent_from_statusfile does not leak memory if it
	  fails to parse a line

2016-03-02 10:19  squinney@INF.ED.AC.UK

	* Reworked the various insert, append and remove methods to return
	  an LCFGComponentChangeType value in a similar way to how package
	  lists are handled. Also improved the error handling to avoid
	  memory leaks

2016-03-02 10:16  squinney@INF.ED.AC.UK

	* ensure lcfgresiter_destroy is safe for calling on a NULL value

2016-03-02 09:47  squinney@INF.ED.AC.UK

	* need to include assert.h

2016-03-02 09:45  squinney@INF.ED.AC.UK

	* removed spurious semicolon

2016-03-02 09:43  squinney@INF.ED.AC.UK

	* ensure child tag list is not freed twice if an error occurs

2016-03-02 09:42  squinney@INF.ED.AC.UK

	* Improved robustness of resource tag list handling. Should not
	  leak memory when errors occur

2016-03-02 09:05  squinney@INF.ED.AC.UK

	* Ensure lcfgtemplate_from_string does not leak memory if an error
	  occurs whilst parsing any part of the template

2016-03-02 08:55  squinney@INF.ED.AC.UK

	* Ensure various functions do not leak memory if an error occurs
	  when attempting to set the value for a resource attribute

2016-03-01 14:08  squinney@INF.ED.AC.UK

	* Improved the error handling in lcfgxml_process_packages so that
	  it is more robust and does not leak memory when failure occurs

2016-03-01 12:00  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.15.0

2016-03-01 11:59  squinney@INF.ED.AC.UK

	* Added a new LCFGXMLProcessStatus enum which has the various
	  process status values. Modified many function specifications to
	  have LCFGXMLProcessStatus as the return type

2016-03-01 11:42  squinney@INF.ED.AC.UK

	* lcfgxml_process_package now checks the various calls to
	  lcfgpkgspec_set_ functions and handles the errors in a robust way
	  that should avoid memory leaks

2016-03-01 11:35  squinney@INF.ED.AC.UK

	* need utils.h

2016-03-01 11:35  squinney@INF.ED.AC.UK

	* need unistd.h for unlink

2016-02-26 20:40  squinney@INF.ED.AC.UK

	* Fixed error message

2016-02-26 20:40  squinney@INF.ED.AC.UK

	* Corrected exit status

2016-02-26 16:35  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.14.0

2016-02-26 16:34  squinney@INF.ED.AC.UK

	* do not install some tools for now

2016-02-26 14:13  squinney@INF.ED.AC.UK

	* Added lcfgpkgspec_build_message to make it easier to generate
	  error messages. Also tweaked the to_string function so that it is
	  safe to call when version and release are not defined, the
	  wildcard character is used instead

2016-02-26 14:12  squinney@INF.ED.AC.UK

	* Tweaked lcfgresource_build_message so that it can handle NULL
	  resources

2016-02-26 12:00  squinney@INF.ED.AC.UK

	* Added note to lcfgpkgnode_destroy about not destroy the pkgspec

2016-02-26 11:59  squinney@INF.ED.AC.UK

	* Added error message for when lcfgpkgspec_from_string is called on
	  a NULL or empty string

2016-02-26 11:49  squinney@INF.ED.AC.UK

	* Marked more functions with the warn_unused_result attribute

2016-02-26 11:43  squinney@INF.ED.AC.UK

	* Minor tidying and efficiency improvements

2016-02-19 15:52  squinney@INF.ED.AC.UK

	* Added lcfgpkglist_from_rpm_dir function which will create a
	  package list based on the .rpm files found in a directory. Added
	  lcfgpkglist_to_rpmlist which will write out an rpmlist file from
	  the package list

2016-02-19 15:51  squinney@INF.ED.AC.UK

	* Added support for using a wildcard in the arch field when using
	  find_node and find_pkgspec

2016-02-19 10:10  squinney@INF.ED.AC.UK

	* Moved the rpmcfg handling stuff into the rpm.c file to keep it
	  with the other rpm functions

2016-02-19 08:27  squinney@INF.ED.AC.UK

	* Tidying

2016-02-19 08:19  squinney@INF.ED.AC.UK

	* compare now sorts on name/arch/version rather than
	  name/version/arch

2016-02-19 07:56  squinney@INF.ED.AC.UK

	* lcfgpkglist_from_rpmlist now ignores lines which only contain
	  whitespace. The error handling was further improved to really not
	  leak memory when errors occur

2016-02-19 07:54  squinney@INF.ED.AC.UK

	* Fixed lcfgutils_trim_whitespace so that it correctly handles
	  strings which just contain a single whitespace character (e.g. a
	  newline)

2016-02-18 19:30  squinney@INF.ED.AC.UK

	* Improved error messages for processing rpmlist files

2016-02-18 18:45  squinney@INF.ED.AC.UK

	* Reworked lcfgpkglist_from_rpmlist so that it does not leak memory
	  when an error occurs

2016-02-18 17:03  squinney@INF.ED.AC.UK

	* Tidied some things for the sake of consistency

2016-02-18 17:03  squinney@INF.ED.AC.UK

	* Reworked lcfgpkgspec_from_rpm_filename to not leak memory when
	  parsing of a filename fails for any reason

2016-02-17 15:50  squinney@INF.ED.AC.UK

	* Ensure that add_context, add_derivation and add_flags do not leak
	  memory if there is a failure to set the new value

2016-02-17 12:06  squinney@INF.ED.AC.UK

	* Reworked lcfgpkgspec_add_flags so that it is better at producing
	  a unique set of flags given the current and extra strings

2016-02-17 12:04  squinney@INF.ED.AC.UK

	* Needs to include time.h for definition of time_t

2016-02-16 19:45  squinney@INF.ED.AC.UK

	* Tweaked error message

2016-02-16 19:44  squinney@INF.ED.AC.UK

	* Handle the secondary architecture which is sometimes encoded in
	  the package name

2016-02-16 19:30  squinney@INF.ED.AC.UK

	* Improved the handling of the return values for insert, append and
	  remove functions for package lists

2016-02-16 14:26  squinney@INF.ED.AC.UK

	* Reworked lcfgpkgspec_from_string to avoid multiple attempts to
	  free memory when an error occurs

2016-02-16 13:02  squinney@INF.ED.AC.UK

	* Added lcfgpkgspec_has_flag function for checking if a specific
	  flag is set

2016-02-16 12:40  squinney@INF.ED.AC.UK

	* Fixed function specs

2016-02-16 12:34  squinney@INF.ED.AC.UK

	* Fixed uses of asprintf to build error messages

2016-02-16 12:34  squinney@INF.ED.AC.UK

	* Needed to include errno.h

2016-02-16 12:08  squinney@INF.ED.AC.UK

	* Converted prefix from a string to a single char, never going to
	  need a string

2016-02-16 11:40  squinney@INF.ED.AC.UK

	* Annotated set and add functions so that that compiler will warn
	  when the returned success value is ignored

2016-02-16 11:37  squinney@INF.ED.AC.UK

	* Reworked all the lcfgpkgspec_set and lcfgpkgspec_add functions so
	  that they validate the new value and return a boolean which
	  indicates success

2016-02-16 11:05  squinney@INF.ED.AC.UK

	* Added functions for validating the values for many fields

2016-02-16 10:20  squinney@INF.ED.AC.UK

	* Dropped the const on the get and set functions to make them much
	  easier to use, there was no advantage to using const

2016-02-16 10:19  squinney@INF.ED.AC.UK

	* Reordered the functions so that they are grouped according to the
	  relevant LCFGPackageSpec struct field

2016-02-16 09:58  squinney@INF.ED.AC.UK

	* Reordered the functions so that they are grouped according to the
	  relevant LCFGPackageSpec struct field

2016-02-16 09:45  squinney@INF.ED.AC.UK

	* clone should carry through the priority

2016-01-11 19:46  squinney@INF.ED.AC.UK

	* ensure that find_or_create_resource does not fail on creating a
	  new resource with an invalid name

2016-01-11 16:06  squinney@INF.ED.AC.UK

	* fixed typo

2016-01-11 16:03  squinney@INF.ED.AC.UK

	* Reworked set_type_as_string so that for list types it will
	  hand-off templates to set_template_as_string if any are found in
	  the type specification

2016-01-11 16:02  squinney@INF.ED.AC.UK

	* lcfgresource_set_type_as_string now handles an error message
	  parameter

2016-01-11 14:35  squinney@INF.ED.AC.UK

	* Need to copy string when setting resource value in
	  _from_statusfile

2016-01-11 14:10  squinney@INF.ED.AC.UK

	* Dropped unnecessary dependencies on lcfg-packagelib which has now
	  been incorporated into this package

2016-01-11 14:07  squinney@INF.ED.AC.UK

	* Fixed call to lcfgcomponent_find_resource

2016-01-11 14:05  squinney@INF.ED.AC.UK

	* Added lcfgcomponent_find_or_create_resource which will find an
	  existing resource with the specified name or create a new one and
	  add it to the component. Added lcfgcomponent_from_statusfile
	  which will load all the resources from a status file into a new
	  LCFGComponent

2016-01-11 14:03  squinney@INF.ED.AC.UK

	* Converted status symbols from strings to characters for
	  efficiency

2016-01-11 12:09  squinney@INF.ED.AC.UK

	* Added docs about new methods and the change in behaviour for
	  lcfgresource_set_type

2016-01-11 12:06  squinney@INF.ED.AC.UK

	* Added note about lcfgresource_is_string and its behaviour for
	  'publish' and 'subscribe' types

2016-01-11 11:50  squinney@INF.ED.AC.UK

	* Reworked set_type so that the type cannot be changed if there is
	  already an incompatible value set for the resource. Also added
	  valid_value_for_type helper function and a new unset_value
	  function so it is possible to remove an existing value

2016-01-11 10:15  squinney@INF.ED.AC.UK

	* fixed function definition for
	  lcfgcomponent_insert_or_merge_resource

2016-01-11 10:11  squinney@INF.ED.AC.UK

	* insert_or_replace_resource and insert_or_merge_resource now
	  return a value which is defined in the LCFGComponentUpdateType
	  enum, this makes it easier/safer to check for different scenarios

2016-01-11 10:10  squinney@INF.ED.AC.UK

	* Improved some comments

2016-01-08 15:16  squinney@INF.ED.AC.UK

	* corrected name comparison in lcfgresource_equals

2016-01-08 15:11  squinney@INF.ED.AC.UK

	* Added lots more documentation for the resources lib API

2016-01-08 15:11  squinney@INF.ED.AC.UK

	* fixed logic in a couple of comparison functions

2016-01-08 11:50  squinney@INF.ED.AC.UK

	* Fixed comparison of type strings in
	  lcfgresource_set_type_as_string

2015-12-24 15:49  squinney@INF.ED.AC.UK

	* Fixed lcfgresource_valid_integer so that it can handle negative
	  integers

2015-12-21 16:07  squinney@INF.ED.AC.UK

	* fixed pointer types for package lists

2015-12-21 16:05  squinney@INF.ED.AC.UK

	* Fixed minor errors

2015-12-21 16:02  squinney@INF.ED.AC.UK

	* Eval the priority of the package spec based on the associated
	  context expression (if any) and append to the relevant package
	  list

2015-12-21 15:51  squinney@INF.ED.AC.UK

	* Store the modification time of the XML file

2015-12-21 15:49  squinney@INF.ED.AC.UK

	* Split packages into active and inactive lists, added mtime field
	  to store the modification time of the profile XML file

2015-12-21 14:28  squinney@INF.ED.AC.UK

	* Added lcfgpkglist_to_rpmcfg function for generating rpmcfg files

2015-12-21 14:27  squinney@INF.ED.AC.UK

	* lcfgpkgspec_compare_names now does a case-insensitive comparison
	  of the package names

2015-12-21 13:31  squinney@INF.ED.AC.UK

	* Reworked lcfgpkglist_sort to have the same implementation as
	  lcfgcomponent_sort

2015-12-21 11:39  squinney@INF.ED.AC.UK

	* use the version of the packages header which ships with this
	  library

2015-12-21 11:30  squinney@INF.ED.AC.UK

	* Drop unnecessary use of const

2015-12-21 11:30  squinney@INF.ED.AC.UK

	* need to include packages.h

2015-12-21 11:30  squinney@INF.ED.AC.UK

	* need to include utils.h

2015-12-21 11:24  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.13.0

2015-12-21 11:24  squinney@INF.ED.AC.UK

	* dropped utils.c from sources

2015-12-21 11:22  squinney@INF.ED.AC.UK

	* Converted over to using the standard context library

2015-12-21 11:09  squinney@INF.ED.AC.UK

	* Converted over to using common functions which are now part of
	  the lcfg_utils library

2015-12-21 11:03  squinney@INF.ED.AC.UK

	* Fixed variable name

2015-12-21 10:50  squinney@INF.ED.AC.UK

	* restored file which got missed

2015-12-21 10:47  squinney@INF.ED.AC.UK

	* Imported packages library

2015-12-21 10:29  squinney@INF.ED.AC.UK

	* Converted over to using common functions which are now in
	  lcfg_utils library

2015-12-21 10:23  squinney@INF.ED.AC.UK

	* Moved functions from utils to lcfg_utils

2015-12-21 10:22  squinney@INF.ED.AC.UK

	* Renamed to lcfg_utils for consistency with other libs

2015-12-21 10:09  squinney@INF.ED.AC.UK

	* Imported various utility functions from the profile libraries

2015-12-21 10:08  squinney@INF.ED.AC.UK

	* Bumped so version to 2 to avoid conflicts with old version of
	  utils library

2015-12-21 09:39  squinney@INF.ED.AC.UK

	* Imported lcfg-utils as part of making this the single core
	  library package required for LCFG support on a platform

2015-12-21 09:26  squinney@INF.ED.AC.UK

	* Merged in lcfg utils library

2015-12-18 15:39  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.12.1

2015-12-18 15:38  squinney@INF.ED.AC.UK

	* When cloning a resource also copy the priority and any comment

2015-12-18 13:55  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.12.0

2015-12-18 12:18  squinney@INF.ED.AC.UK

	* process_resource now only sets the tag name which is returned to
	  the caller when it is an active resource which has been
	  successfully added to the component list

2015-12-18 10:27  squinney@INF.ED.AC.UK

	* Added some assertions to hopefully avoid string buffer overruns

2015-12-18 10:26  squinney@INF.ED.AC.UK

	* lcfgresource_get_type_as_string now takes an options parameter so
	  that the addition of templates can be disabled

2015-12-18 09:31  squinney@INF.ED.AC.UK

	* Added support for 'publish' and 'subscribe' resource types. Also
	  the lcfgresource_get_type_as_string function now appends the
	  string of templates for list types

2015-12-17 16:19  squinney@INF.ED.AC.UK

	* Set list type even if there are no associated templates

2015-12-17 16:08  squinney@INF.ED.AC.UK

	* Minor tidying

2015-12-17 16:08  squinney@INF.ED.AC.UK

	* Added support for associating comments with resources

2015-12-17 15:59  squinney@INF.ED.AC.UK

	* need to close override dir handle once finished

2015-12-17 12:01  squinney@INF.ED.AC.UK

	* fixed sorting of resources

2015-12-17 10:46  squinney@INF.ED.AC.UK

	* ensure integer variable is always initialised before comparison

2015-12-17 10:45  squinney@INF.ED.AC.UK

	* Tidied lcfgcontext_valid_expression

2015-12-17 10:45  squinney@INF.ED.AC.UK

	* Need unistd.h for unlink

2015-12-17 10:32  squinney@INF.ED.AC.UK

	* The lcfgresource_build_name function now passes back a helpful
	  error message when something goes wrong. Also lots of small code
	  tidying

2015-12-16 13:33  squinney@INF.ED.AC.UK

	* Various improvements to the error messages

2015-12-16 13:33  squinney@INF.ED.AC.UK

	* Added new support for writing component resources to a status
	  file

2015-12-16 12:13  squinney@INF.ED.AC.UK

	* Error messages from parsing templates are now sent back to the
	  original caller via lcfgresource_set_template_as_string

2015-12-16 10:28  squinney@INF.ED.AC.UK

	* Need to allow '=' and '\!' characters in context expressions

2015-12-16 10:25  squinney@INF.ED.AC.UK

	* Fixed call to lcfgresource_valid_context

2015-12-16 10:24  squinney@INF.ED.AC.UK

	* Now use lcfgresource_eval_priority function to calculate priority
	  level based on any context expression associated with the
	  resource

2015-12-16 10:21  squinney@INF.ED.AC.UK

	* Lots of context related improvements. Now linking against the
	  context lib. Added lcfgresource_eval_priority which is a
	  convenient wrapper for setting the priority by calling
	  lcfgctxlist_eval_expression. Added lcfgresource_valid_context
	  which uses the new lcfgcontext_valid_expression function.
	  lcfgresource_set_context now checks for the validity of the new
	  expression. Switched over to using the
	  lcfgcontext_combine_expressions for lcfgresource_add_context

2015-12-16 10:17  squinney@INF.ED.AC.UK

	* Added new lcfgcontext_valid_expression which can be used to check
	  the validity of context expressions. Added
	  lcfgcontext_combine_expressions for combining two context
	  expressions using a logical-AND. These were previously in the
	  resource lib

2015-12-10 16:18  squinney@INF.ED.AC.UK

	* only store the named component for override profiles

2015-12-10 16:14  squinney@INF.ED.AC.UK

	* fixed call to insert_or_replace_component

2015-12-10 16:12  squinney@INF.ED.AC.UK

	* Added lcfgcomponent_get_name function which replaces
	  lcfgcomponent_name macro

2015-12-10 16:06  squinney@INF.ED.AC.UK

	* added missing brace

2015-12-10 16:05  squinney@INF.ED.AC.UK

	* added missing semi-colon

2015-12-10 16:03  squinney@INF.ED.AC.UK

	* Added lcfgcomplist_transplant_components and used it for
	  importing override profiles

2015-12-10 15:40  squinney@INF.ED.AC.UK

	* Added reference counting for component structs

2015-12-10 15:39  squinney@INF.ED.AC.UK

	* made lcfgresource_destroy safe to call with a NULL

2015-12-10 15:23  squinney@INF.ED.AC.UK

	* renamed lcfgcomponentlist_ functions to lcfgcomplist_ for brevity

2015-12-10 15:22  squinney@INF.ED.AC.UK

	* Added first stage of support for processing override profiles

2015-12-10 15:21  squinney@INF.ED.AC.UK

	* First stage of lcfgcomplist_insert_or_replace_component support

2015-12-10 15:20  squinney@INF.ED.AC.UK

	* Added lcfgcomponent_has_resource function

2015-12-10 14:35  squinney@INF.ED.AC.UK

	* fixed catfile

2015-12-10 14:32  squinney@INF.ED.AC.UK

	* needs string.h

2015-12-10 14:29  squinney@INF.ED.AC.UK

	* fixed minor issues

2015-12-10 14:25  squinney@INF.ED.AC.UK

	* First attempt at processing override profiles

2015-12-10 13:27  squinney@INF.ED.AC.UK

	* Need to pass in main profile

2015-12-10 13:26  squinney@INF.ED.AC.UK

	* Pass in the context string when processing context profiles

2015-12-10 10:42  squinney@INF.ED.AC.UK

	* Fixed use of S_ISREG

2015-12-10 10:38  squinney@INF.ED.AC.UK

	* diff no longer needs to pass context directory

2015-12-10 10:34  squinney@INF.ED.AC.UK

	* updated spec for lcfgcontext_profile_path

2015-12-10 10:33  squinney@INF.ED.AC.UK

	* First attempt at procesing context-specific override profiles

2015-12-10 10:32  squinney@INF.ED.AC.UK

	* Added lcfgcomponent_insert_or_replace_resource

2015-12-10 10:32  squinney@INF.ED.AC.UK

	* lcfgcomponent_update is now
	  lcfgcomponent_insert_or_merge_resource

2015-12-10 10:31  squinney@INF.ED.AC.UK

	* Added insert_or_replace and renamed update to insert_or_merge for
	  clarity

2015-12-10 10:30  squinney@INF.ED.AC.UK

	* Made lcfgprofile_destroy safe for calling on a NULL value

2015-12-10 10:29  squinney@INF.ED.AC.UK

	* Get the base directory for the context profile path using
	  lcfgcontext_cfgdir

2015-12-09 11:56  squinney@INF.ED.AC.UK

	* need to link against new context library

2015-12-09 11:53  squinney@INF.ED.AC.UK

	* added context list to set of parameters for
	  lcfgxml_process_profile

2015-12-09 11:51  squinney@INF.ED.AC.UK

	* Various minor bug fixes

2015-12-09 11:51  squinney@INF.ED.AC.UK

	* Added specs for find_node and find_res

2015-12-09 11:30  squinney@INF.ED.AC.UK

	* Added cmake file

2015-12-09 11:29  squinney@INF.ED.AC.UK

	* Added context sub-directory

2015-12-09 11:27  squinney@INF.ED.AC.UK

	* If a resource has a context then only include it when the context
	  is active

2015-12-09 11:10  squinney@INF.ED.AC.UK

	* Load the active contexts when starting the profile parser and
	  pass them all the way through to the resource processing so that
	  priorities can be calculated

2015-12-09 10:33  squinney@INF.ED.AC.UK

	* Added support for lcfgcomponent_update which will append a
	  resource if not previously seen and otherwise decide whether or
	  not to replace based on the priority

2015-12-09 10:22  squinney@INF.ED.AC.UK

	* moved to the common include directory

2015-12-09 10:11  squinney@INF.ED.AC.UK

	* fixed spec for eval_expression

2015-12-08 14:00  squinney@INF.ED.AC.UK

	* Added support for evaluating context expressions using the --eval
	  command line argument

2015-12-08 13:57  squinney@INF.ED.AC.UK

	* Altered spec for _update function so that it is possible to
	  differentiate between the 3 possible result states: an update, no
	  change and a failure

2015-12-08 13:24  squinney@INF.ED.AC.UK

	* Added lcfgctxlist_find_ctx which is similar to
	  lcfgctxlist_find_node except it returns the LCFGContext. Added
	  lcfgctxlist_eval_expression which can evaluate simple context
	  expressions ( currently does not support and/or combinations or
	  brackets).

2015-12-08 12:41  squinney@INF.ED.AC.UK

	* fixed name and value validity checks

2015-12-04 16:41  squinney@INF.ED.AC.UK

	* Added locking and general safety features for updating the
	  pending contexts.

2015-12-04 13:33  squinney@INF.ED.AC.UK

	* First pass at implementing the setctx utility. Currently handles
	  displaying and updating the pending contexts

2015-12-04 13:33  squinney@INF.ED.AC.UK

	* lcfgctxlist_to_file now takes an errmsg parameter. sort is now
	  named sort_by_priority for clarity

2015-12-04 13:32  squinney@INF.ED.AC.UK

	* Fixed specification of allowed chars in context values

2015-12-04 09:35  squinney@INF.ED.AC.UK

	* Updated spec for lcfgctxlist_to_file

2015-12-04 09:35  squinney@INF.ED.AC.UK

	* Can now set utime on files with lcfgctxlist_to_file. Also some
	  minor code tidying

2015-12-04 09:33  squinney@INF.ED.AC.UK

	* Minor tidying

2015-11-05 13:53  squinney@INF.ED.AC.UK

	* Added lcfgctxlist_clone to create a new list from a current list.
	  Does not make clones of the context structs themselves

2015-11-05 13:40  squinney@INF.ED.AC.UK

	* Added support for comparing two context lists

2015-11-05 11:02  squinney@INF.ED.AC.UK

	* Added lcfgctxlist_update which will append contexts when new and
	  otherwise replace existing ones

2015-11-05 11:01  squinney@INF.ED.AC.UK

	* Added function to unset a value. Also added is_false and is_true
	  functions for use when evaluating expressions

2015-11-05 08:19  squinney@INF.ED.AC.UK

	* tweaked tests

2015-11-05 08:18  squinney@INF.ED.AC.UK

	* tweaked has_value to also check if the value is non-empty when it
	  is non-null

2015-11-05 08:17  squinney@INF.ED.AC.UK

	* Added lcfgctxlist_sort which bubble sorts the list on the
	  priority. Added lcfgctxlist_max_priority to find max priority in
	  context list. Now only print out contexts which have a value

2015-11-05 06:40  squinney@INF.ED.AC.UK

	* Simplified to a single linked list. Added from_file and to_file
	  functions for importing and exporting context lists

2015-11-05 06:39  squinney@INF.ED.AC.UK

	* Improved from_string to ignore leading and trailing whitespace.
	  Added support in to_string for adding newlines. Added a trial
	  print function

2015-11-04 10:52  squinney@INF.ED.AC.UK

	* Added most of the context list support

2015-11-04 09:25  squinney@INF.ED.AC.UK

	* added support for destroy function for context list struct

2015-11-04 09:23  squinney@INF.ED.AC.UK

	* Added support for reference counting in the context struct

2015-11-03 21:03  squinney@INF.ED.AC.UK

	* Made a start on support for contexts

2015-11-03 20:59  squinney@INF.ED.AC.UK

	* fixed check for correct allocation of memory for resource node

2015-11-03 11:30  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.11.0

2015-11-03 10:53  squinney@INF.ED.AC.UK

	* Reworked all the error handling for the lcfgresource_set_X calls
	  so that good feedback is provided

2015-11-03 10:52  squinney@INF.ED.AC.UK

	* further improvements to the build_message function so that it is
	  as helpful as possible

2015-11-03 10:51  squinney@INF.ED.AC.UK

	* Return NULL rather than exit when a bad template is found

2015-11-02 15:52  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.10.0

2015-11-02 15:46  squinney@INF.ED.AC.UK

	* Added lcfgresource_value_map_tagstring function which can be used
	  to apply a function to each token in a whitespace separated list.
	  This is used by value_add_tags and the new value_remove_tags
	  functions

2015-11-02 15:44  squinney@INF.ED.AC.UK

	* Needed to include stdarg.h

2015-11-02 14:03  squinney@INF.ED.AC.UK

	* Added new lcfgresource_build_message which will format messages
	  with useful information about the resource (e.g. name, context,
	  derivation). This is mostly handy for generating error messages

2015-11-02 10:48  squinney@INF.ED.AC.UK

	* The lcfgresource_get_type_as_string function now just returns the
	  short 'list' name for list types, it does not append the
	  template. The lcfgresource_to_status function now adds the
	  template string where necessary. This makes the _get_as_string
	  function more widely useful

2015-11-02 10:06  squinney@INF.ED.AC.UK

	* Tweaked the lcfgcomponent_print function to match the changes to
	  the prefix handling in the lcfgresource_to_string and
	  lcfgresource_to_status functions

2015-11-02 09:58  squinney@INF.ED.AC.UK

	* Altered the way the to_string and to_status functions handle the
	  optional prefix parameter. To make them more convenient, when
	  specified the functions will now add the '.' separator. Added
	  support in the to_string function for a new NOVALUE option which
	  prevents the inclusion of the '=' and any value string in the
	  generated output

2015-10-30 15:21  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.9.0

2015-10-30 15:19  squinney@INF.ED.AC.UK

	* Only store values for attributes when the value has a non-zero
	  length. Also improved the error messages when attribute failures
	  occur

2015-10-30 15:00  squinney@INF.ED.AC.UK

	* Ensure that the resource attribute gathering only uses valid
	  values for each parameter

2015-10-30 15:00  squinney@INF.ED.AC.UK

	* Ensure that the ultimate error handling for each function does
	  not trample on any error message which has already been set

2015-10-30 14:59  squinney@INF.ED.AC.UK

	* Reworked the way that templates are handled. When a template is
	  parsed the placeholders will now be found and cached to avoid
	  having to do it multiple times

2015-10-30 13:16  squinney@INF.ED.AC.UK

	* Reworked lcfgresource_build_name function so that it does not
	  alter the resource name. It now returns a string which can then
	  be passed the lcfgresource_set_name function. This makes the
	  function reusable for other situations

2015-10-30 12:13  squinney@INF.ED.AC.UK

	* tidied the output from type_as_string when there is not a list of
	  templates

2015-10-30 11:27  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.8.0

2015-10-30 11:22  squinney@INF.ED.AC.UK

	* Added a suite of functions to support calling all the standard
	  mutations on the lcfgresource value

2015-10-29 14:03  squinney@INF.ED.AC.UK

	* added missing definitions for has_value and get_value

2015-10-29 13:28  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.7.0

2015-10-29 13:26  squinney@INF.ED.AC.UK

	* Improved error handling in process_components

2015-10-29 12:38  squinney@INF.ED.AC.UK

	* Made the components section required. Made it possible for the
	  packages section to be optional

2015-10-27 19:32  squinney@INF.ED.AC.UK

	* fixed boolean value check

2015-10-27 19:32  squinney@INF.ED.AC.UK

	* Marked lcfgresource_set_ function as needing a check of the
	  return value

2015-10-27 17:09  squinney@INF.ED.AC.UK

	* Attempt to canonicalize a boolean value when it's not valid

2015-10-27 17:05  squinney@INF.ED.AC.UK

	* ensure lcfgresource_add_derivation does not use undefined pointer

2015-10-27 16:59  squinney@INF.ED.AC.UK

	* fixed return calls for lcfgresource_build_name

2015-10-27 16:58  squinney@INF.ED.AC.UK

	* need to include errno.h

2015-10-27 16:57  squinney@INF.ED.AC.UK

	* Lots of refactoring work to improve the interface. All
	  lcfgresource_set functions now return a boolean to indicate
	  success. There are also now enforced validity checks for name and
	  value strings.

2015-10-27 13:53  squinney@INF.ED.AC.UK

	* Started documenting API for lcfgresource

2015-10-27 13:50  squinney@INF.ED.AC.UK

	* split out set_template_as_string and get_template_as_string
	  functions to provide a more consistent API

2015-10-26 15:50  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.6.0

2015-10-26 14:38  squinney@INF.ED.AC.UK

	* ensure lcfgresource_to_string only attempts to call strlen on
	  resource value when it is not NULL

2015-10-26 11:58  squinney@INF.ED.AC.UK

	* Include the new iterator.c in the build

2015-10-26 11:51  squinney@INF.ED.AC.UK

	* Added iterator interface for component list of resources

2015-10-26 09:27  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.5.0

2015-10-26 09:27  squinney@INF.ED.AC.UK

	* Fixed function spec for lcfgresource_get_type_as_string

2015-10-24 10:01  squinney@INF.ED.AC.UK

	* Converted the resource type field over to using a enum and added
	  _set_as_string and get_as_string functions to convert the values
	  from/to strings. Resources now always have a type (the default
	  being a string) so the has_type method is gone but there is
	  instead a complete set of _is_X functions to check the type. This
	  is used to avoid the need to build the full type string when
	  parsing XML profiles, it is held off until the serialisation
	  stage, this saves both memory and processing time.

2015-10-23 15:23  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.4.0

2015-10-23 15:22  squinney@INF.ED.AC.UK

	* Added functions for validating boolean and integer values

2015-10-22 16:37  squinney@INF.ED.AC.UK

	* fixed call to lcfgtemplate_to_string function in
	  lcfgresource_clone

2015-10-22 16:15  squinney@INF.ED.AC.UK

	* Added lcfgresource_clone function

2015-10-22 16:15  squinney@INF.ED.AC.UK

	* tweaked param types for lcfgtemplate_new

2015-10-22 16:14  squinney@INF.ED.AC.UK

	* no need to include string.h

2015-10-22 15:55  squinney@INF.ED.AC.UK

	* Added lcfgresource_equals and lcfgresource_compare functions

2015-10-22 11:09  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.3.0

2015-10-22 11:08  squinney@INF.ED.AC.UK

	* Moved resources.h header into common include directory

2015-10-22 11:04  squinney@INF.ED.AC.UK

	* Merged the resources lib into this package to simplify the build
	  process

2015-10-22 10:04  squinney@INF.ED.AC.UK

	* tweaked ordering of includes

2015-10-22 10:02  squinney@INF.ED.AC.UK

	* also need to define _GNU_SOURCE

2015-10-22 10:01  squinney@INF.ED.AC.UK

	* Needed to include stdio

2015-10-22 09:57  squinney@INF.ED.AC.UK

	* Added a new lcfgxml_set_error_message function which provides a
	  convenient standard way to specify the error message, it handles
	  a variable number of arguments and just wraps vasprintf

2015-10-20 19:20  squinney@INF.ED.AC.UK

	* Made it easier to set component printing style

2015-10-20 19:06  squinney@INF.ED.AC.UK

	* Dropped unnecessary header includes

2015-10-20 18:49  squinney@INF.ED.AC.UK

	* Dropped lcfgxml_join_strings as it is not used anywhere

2015-10-20 18:44  squinney@INF.ED.AC.UK

	* Converted to using perror for error reporting

2015-10-20 11:11  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.2.0

2015-10-20 11:11  squinney@INF.ED.AC.UK

	* updated dependency versions

2015-10-20 11:05  squinney@INF.ED.AC.UK

	* Renamed 'src' to 'xmlreader' to make it clearer what code is in
	  that directory

2015-10-20 11:01  squinney@INF.ED.AC.UK

	* Reorganised the files so that it is now possible to build
	  separate lcfg_profile and lcfg_xmlreader libraries

2015-10-20 10:36  squinney@INF.ED.AC.UK

	* Added new top-level source directories so the code can be
	  organised better

2015-10-08 15:04  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.1.1

2015-10-08 15:04  squinney@INF.ED.AC.UK

	* for safety, set pointers to NULL when memory is freed

2015-10-07 12:14  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.1.0

2015-10-07 12:14  squinney@INF.ED.AC.UK

	* Updated resourcelib and packagelib deps

2015-10-07 12:13  squinney@INF.ED.AC.UK

	* Updated for resourcelib 0.3.2, also lots of work to reduce the
	  amount of memory fragmentation.

2015-10-07 12:12  squinney@INF.ED.AC.UK

	* Do not call lcfgpkgspec_set_defaults, it's not necessary and it
	  wastes time and memory

2015-10-07 12:12  squinney@INF.ED.AC.UK

	* Improved the processing of components. Should now catch all
	  possible error conditions.

2015-10-07 12:11  squinney@INF.ED.AC.UK

	* modified lcfgxml_collect_metadata to reduce teh number of string
	  dups and frees

2015-10-06 15:24  squinney@INF.ED.AC.UK

	* need to call add_context and add_derivation with base values so
	  that they are copied rather than just stashed

2015-10-06 11:29  squinney@INF.ED.AC.UK

	* Updated to the packagelib 1.14.0 API which uses a lot less memory

2015-10-05 13:20  squinney@INF.ED.AC.UK

	* Reworked process_package and process_packages to avoid copying
	  strings unnecessarily

2015-10-05 12:49  squinney@INF.ED.AC.UK

	* Avoid unnecessary calls to free. Added a couple of strdup calls
	  where an extra copy of a string is required

2015-10-02 13:12  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.0.2

2015-10-02 13:09  squinney@INF.ED.AC.UK

	* Call lcfgtaglist_destroy to free the component tag list when no
	  longer required

2015-10-02 13:09  squinney@INF.ED.AC.UK

	* pass through the list of required components

2015-10-02 13:05  squinney@INF.ED.AC.UK

	* Updated dependencies

2015-10-02 12:16  squinney@INF.ED.AC.UK

	* Altered process_profile so that it is possible to specify a list
	  of components to be retrieved from the profile

2015-10-02 11:44  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.0.1

2015-10-02 11:39  squinney@INF.ED.AC.UK

	* Made it slightly easier to control printing of package and
	  resource lists

2015-10-02 11:37  squinney@INF.ED.AC.UK

	* Only create current_tags and child_tags structs when necessary to
	  avoid wasting time and memory

2015-10-02 11:36  squinney@INF.ED.AC.UK

	* Converted done variable to boolean for neatness

2015-10-02 10:38  squinney@INF.ED.AC.UK

	* removed some debugging

2015-10-02 09:58  squinney@INF.ED.AC.UK

	* Fixed type string for list resources with no templates

2015-10-02 09:15  squinney@INF.ED.AC.UK

	* lcfg-profilelib release: 1.0.0

2015-10-02 09:13  squinney@INF.ED.AC.UK

	* Renamed as lcfg-profilelib

2015-09-30 19:58  squinney@INF.ED.AC.UK

	* Updated signatures of various functions

2015-09-30 19:55  squinney@INF.ED.AC.UK

	* No longer need lcfgxml_squash_whitespace in this library, moved
	  to resourcelib

2015-09-30 19:54  squinney@INF.ED.AC.UK

	* fixed function names for lcfgprofile_ prefix change

2015-09-30 19:53  squinney@INF.ED.AC.UK

	* Updated for latest LCFGTagList API from resourcelib

2015-09-30 19:52  squinney@INF.ED.AC.UK

	* Updated to use the new LCFGComponentList and LCFGComponent APIs
	  from latest resourcelib

2015-09-30 19:42  squinney@INF.ED.AC.UK

	* Updated function names to have the lcfgprofile_ prefix

2015-09-28 15:01  squinney@INF.ED.AC.UK

	* lcfg-xmlreader release: 0.6.3

2015-09-28 14:55  squinney@INF.ED.AC.UK

	* Updated to the latest version of packagelib. Now returning an
	  LCFGPackageList as part of the LCFGProfile struct

2015-09-25 16:47  squinney@INF.ED.AC.UK

	* updated call to lcfgpkgnode_print function for latest packagelib

2015-09-14 08:58  squinney@INF.ED.AC.UK

	* lcfg-xmlreader release: 0.6.2

2015-09-14 08:58  squinney@INF.ED.AC.UK

	* finished testing base context and derivation support

2015-09-14 08:54  squinney@INF.ED.AC.UK

	* Updates to match the latest packagelib API

2015-09-08 09:36  squinney@INF.ED.AC.UK

	* Improved the handling of contexts by using the new
	  lcfgpkgspec_add_context and lcfgpkgspec_add_derivation functions

2015-09-07 19:34  squinney@INF.ED.AC.UK

	* lcfg-xmlreader release: 0.6.1

2015-09-07 19:34  squinney@INF.ED.AC.UK

	* updated dependencies on packagelib

2015-09-07 19:32  squinney@INF.ED.AC.UK

	* updated for latest version of packagelib

2015-09-04 15:41  squinney@INF.ED.AC.UK

	* lcfg-xmlreader release: 0.6.0

2015-09-01 11:09  squinney@INF.ED.AC.UK

	* Collect data on ALL components

2015-09-01 11:08  squinney@INF.ED.AC.UK

	* Updated signature for process_components

2015-09-01 11:08  squinney@INF.ED.AC.UK

	* Added support for restricting which components get stored in
	  process_components

2015-09-01 09:52  squinney@INF.ED.AC.UK

	* Initialised the metadata attributes to NULL so there's no risk of
	  weird stuff happening if they do not get set later

2015-09-01 09:46  squinney@INF.ED.AC.UK

	* added base_context and base_derivation parameters for various
	  functions

2015-09-01 09:46  squinney@INF.ED.AC.UK

	* Base context and derivation support.

2015-09-01 09:45  squinney@INF.ED.AC.UK

	* Pass the base context and base derivation through to the package
	  and component processing functions

2015-09-01 09:45  squinney@INF.ED.AC.UK

	* print_lcfgprofile now takes component printing style

2015-09-01 09:44  squinney@INF.ED.AC.UK

	* Added support for specifying a base context and base derivation.

2015-09-01 09:44  squinney@INF.ED.AC.UK

	* Handle various attributes of the profile struct being NULL. Also
	  added support for specifying the component printing style via
	  print_lcfgprofile

2015-09-01 09:43  squinney@INF.ED.AC.UK

	* Pass the base context and base derivation through to the resource
	  processing functions

2015-09-01 09:42  squinney@INF.ED.AC.UK

	* Fixed lcfgxml_join_strings to handle the 2nd string being empty
	  or NULL

2015-09-01 09:41  squinney@INF.ED.AC.UK

	* Added support for specifying a base context and base derivation.
	  Switched to using the set_lcfgpkgspec_* functions for setting the
	  various package attributes. Also now ignoring whitespace elements

2015-08-31 16:10  squinney@INF.ED.AC.UK

	* lcfg-xmlreader release: 0.5.0

2015-08-31 16:08  squinney@INF.ED.AC.UK

	* Added new header for all xmlreader functions

2015-08-31 16:03  squinney@INF.ED.AC.UK

	* Added build-dep on lcfg-resourcelib-devel

2015-08-31 16:03  squinney@INF.ED.AC.UK

	* Major surgery to switch the code over to using the extracted
	  lcfg-resourcelib library

2015-08-31 12:47  squinney@INF.ED.AC.UK

	* In print_lcfgcomponent_list need to check if style is not null
	  before comparing as string

2015-08-31 12:39  squinney@INF.ED.AC.UK

	* Fixed some minor bugs

2015-08-31 12:37  squinney@INF.ED.AC.UK

	* Apply context from parent resource to any child resources

2015-08-31 10:40  squinney@INF.ED.AC.UK

	* Dropped the tagname element from the LCFGResource struct since it
	  does not need to be stashed for the long-term. Also, for
	  consistency, tidied the tag name handling in process_record so
	  it's the same as in process_resource

2015-08-31 09:50  squinney@INF.ED.AC.UK

	* Reworked lcfgxml_init_reader to check that the XML file exists
	  and is readable. It also now returns an appropriate error message
	  when failures occur.

2015-08-29 16:21  squinney@INF.ED.AC.UK

	* squash whitespace in resource template string

2015-08-29 10:55  squinney@INF.ED.AC.UK

	* lcfg-xmlreader release: 0.4.0

2015-08-29 08:19  squinney@INF.ED.AC.UK

	* Converted the collecting of child tags to use the LCFGTag linked
	  list. Also now checking if a tag has already been added before
	  appending to the list.

2015-08-29 06:47  squinney@INF.ED.AC.UK

	* Removed lcfg_tagstring_add function, doing things differently

2015-08-29 06:01  squinney@INF.ED.AC.UK

	* Added a find_lcfgtag function which can be used to scan a tag
	  list to check if a node with a particular name has already been
	  stored. Also tweaked print_lcfgtag to take a file-descriptor and
	  always find the head of the list before stringifying

2015-08-28 15:54  squinney@INF.ED.AC.UK

	* Use new lcfg_tagstring_add to assemble strings of tags, this
	  ensures that a tag is only added if not already present

2015-08-28 15:27  squinney@INF.ED.AC.UK

	* Completely reworked build_lcfgresource_name so that it works
	  backwards from the last placeholder to the first and also works
	  through the tag list from the tail to the head. This is the only
	  way to correctly build lcfg resource names from templates.

2015-08-28 11:09  squinney@INF.ED.AC.UK

	* Added support for generating a separate status file for each
	  component when printing them all out

2015-08-28 10:47  squinney@INF.ED.AC.UK

	* Pulled out some of the symbols used for encoding information in
	  the status files and made them macros for easier reuse

2015-08-28 10:36  squinney@INF.ED.AC.UK

	* Canonicalize the resource name when it is set so that any leading
	  underscore is removed

2015-08-28 10:29  squinney@INF.ED.AC.UK

	* fixed some compiler warnings about use of const. Also made a few
	  bits clearer by renaming variables

2015-08-28 10:28  squinney@INF.ED.AC.UK

	* Made canonicalize_lcfg_resname more robust when building new
	  strings

2015-08-28 10:27  squinney@INF.ED.AC.UK

	* fixed compiler warning about use of const

2015-08-28 09:35  squinney@INF.ED.AC.UK

	* lcfg-xmlreader release: 0.3.0

2015-08-28 09:35  squinney@INF.ED.AC.UK

	* Added build-dependency on lcfg-packagelib-devel

2015-08-28 06:37  squinney@INF.ED.AC.UK

	* Tweaked malloc calls

2015-08-28 06:35  squinney@INF.ED.AC.UK

	* Apply const to some parameters in process_resource and
	  process_record

2015-08-28 06:35  squinney@INF.ED.AC.UK

	* Fixed memory leaks in lcfgresource_to_status

2015-08-28 06:33  squinney@INF.ED.AC.UK

	* also squash \r

2015-08-28 05:54  squinney@INF.ED.AC.UK

	* Pass the file-descriptor to print_lcfgpkgnodes

2015-08-27 19:09  squinney@INF.ED.AC.UK

	* completely rewrote build_lcfgresource_name to use strchr for
	  tokenization instead of strtok which was causing major memory
	  management headaches

2015-08-27 13:41  squinney@INF.ED.AC.UK

	* Canonicalize the resource name

2015-08-27 12:38  squinney@INF.ED.AC.UK

	* Now handles process_resource passing back the tag to the caller
	  when it has processed a child node

2015-08-27 12:05  squinney@INF.ED.AC.UK

	* Now canonicalizing the boolean value to either 'yes' or ''. Also
	  improved how the default values are set for resources

2015-08-27 10:32  squinney@INF.ED.AC.UK

	* Converted all the print functions to take the file-descriptor as
	  an argument. Also added support for printing the resources in a
	  'status' file style

2015-08-27 08:51  squinney@INF.ED.AC.UK

	* Added support for parsing the resource name template and building
	  the name with the current set of tags

2015-08-25 10:41  squinney@INF.ED.AC.UK

	* lcfg-xmlreader release: 0.2.0

2015-08-24 16:13  squinney@INF.ED.AC.UK

	* Fixed lcfgxml_process_resource handling of record tags

2015-08-24 15:43  squinney@INF.ED.AC.UK

	* The 'unexpected element' error message now contains the node type

2015-08-24 15:38  squinney@INF.ED.AC.UK

	* pass messages straight through when errors occur

2015-08-24 15:31  squinney@INF.ED.AC.UK

	* Added new print_lcfgprofile and print_lcfgprofile_metadata
	  functions. Improved lcfgxml_collect_metadata.

2015-08-24 15:30  squinney@INF.ED.AC.UK

	* use the empty resource value definition

2015-08-24 15:30  squinney@INF.ED.AC.UK

	* Defined what an empty resource value looks like

2015-08-24 15:15  squinney@INF.ED.AC.UK

	* Added new print_lcfgprofile and print_lcfgprofile_metadata
	  functions. Improved lcfgxml_collect_metadata.

2015-08-24 15:12  squinney@INF.ED.AC.UK

	* Use new print_lcfgprofile function

2015-08-24 15:11  squinney@INF.ED.AC.UK

	* Added new print_lcfgprofile and print_lcfgprofile_metadata
	  functions

2015-08-24 14:25  squinney@INF.ED.AC.UK

	* lcfgxml_process_profile function signature now includes pointer
	  to error message

2015-08-24 14:24  squinney@INF.ED.AC.UK

	* Altered signatures for lcfgxml_process_profile and
	  lcfgxml_collect_metadata to include the pointer to the error
	  message

2015-08-24 13:14  squinney@INF.ED.AC.UK

	* Moved various NODE name macros into common header and converted
	  more code over to using them

2015-08-24 13:14  squinney@INF.ED.AC.UK

	* removed bad_xml function which is no longer required

2015-08-24 13:01  squinney@INF.ED.AC.UK

	* Fixed errmsg assignment pointer types

2015-08-24 12:58  squinney@INF.ED.AC.UK

	* Tweaked function names. Improved error handling

2015-08-24 12:56  squinney@INF.ED.AC.UK

	* Tweaked function names. Standardised error handling

2015-08-24 12:55  squinney@INF.ED.AC.UK

	* Added lcfgxml_ prefix to some functions to avoid potential for
	  name clashes

2015-08-24 12:55  squinney@INF.ED.AC.UK

	* Added lcfgxml_ prefix to some functions to avoid potential for
	  name clashes

2015-08-24 12:54  squinney@INF.ED.AC.UK

	* Tidied and standardised some error messages

2015-08-24 11:00  squinney@INF.ED.AC.UK

	* Moved status codes to common header

2015-08-24 10:58  squinney@INF.ED.AC.UK

	* Renamed profile_utils to profile_common

2015-08-24 10:40  squinney@INF.ED.AC.UK

	* fixed cleanup of xmlreader so that no memory is lost

2015-08-24 10:40  squinney@INF.ED.AC.UK

	* Tweaked error message

2015-08-24 10:39  squinney@INF.ED.AC.UK

	* Massively simplified lcfgxml_join_strings by using asprintf

2015-08-24 10:20  squinney@INF.ED.AC.UK

	* More renaming of functions to avoid potential for naming clashes

2015-08-24 10:19  squinney@INF.ED.AC.UK

	* more const to silence the compiler warnings

2015-08-24 10:18  squinney@INF.ED.AC.UK

	* Reworked the error handling so that it's a combination of the
	  return value and a pointer to an error message. This makes it
	  much easier to handle errors at the top-level in a standard way

2015-08-24 08:59  squinney@INF.ED.AC.UK

	* Renamed stringify_lcfgtag to lcfgtag_to_string

2015-08-24 08:58  squinney@INF.ED.AC.UK

	* Added lcfgresource_to_string function and changed
	  print_lcfgresource to use it

2015-08-24 08:19  squinney@INF.ED.AC.UK

	* Applied lcfgxml_ prefix to various utility functions to ensure
	  there is no chance of a clash with functions from other libraries

2015-08-20 14:26  squinney@INF.ED.AC.UK

	* Tweaked how the reader is created. Also now cleanup properly at
	  the end

2015-08-20 14:25  squinney@INF.ED.AC.UK

	* Allow a node to contain cdata instead of text

2015-08-20 14:25  squinney@INF.ED.AC.UK

	* free the lcfg profile from here

2015-08-20 14:25  squinney@INF.ED.AC.UK

	* added spec for free_lcfgprofile

2015-04-27 18:13  squinney@INF.ED.AC.UK

	* More memory leaks squashed

2015-04-27 18:12  squinney@INF.ED.AC.UK

	* Added code to free profile structure

2015-04-27 17:21  squinney@INF.ED.AC.UK

	* fixed small memory leak

2015-04-27 16:08  squinney@INF.ED.AC.UK

	* Major reworking of resource handling

2015-04-27 16:06  squinney@INF.ED.AC.UK

	* Added new source files

2015-04-27 16:06  squinney@INF.ED.AC.UK

	* Pass in an empty taglist when processing a top-level resource

2015-04-27 16:05  squinney@INF.ED.AC.UK

	* Added functions for handling lists of lcfg tags

2015-04-27 16:05  squinney@INF.ED.AC.UK

	* Added a function for joining strings

2015-04-27 11:19  squinney@INF.ED.AC.UK

	* Added include for stdbool for endswith function

2015-04-27 11:19  squinney@INF.ED.AC.UK

	* Moved everything related to processing the resource tree and
	  creating the struct of results into process_resource

2015-04-27 10:22  squinney@INF.ED.AC.UK

	* Added a function for testing whether a string ends with a
	  particular suffix

2015-04-27 10:22  squinney@INF.ED.AC.UK

	* Need to fast forward to the end of the resource chain

2015-04-24 16:16  squinney@INF.ED.AC.UK

	* Added missing includes

2015-04-24 16:15  squinney@INF.ED.AC.UK

	* include all the new sources

2015-04-24 15:23  squinney@INF.ED.AC.UK

	* Process components as well as packages

2015-04-24 15:22  squinney@INF.ED.AC.UK

	* Added support for processing LCFG components

2015-04-24 15:22  squinney@INF.ED.AC.UK

	* Added support for LCFG resources

2015-04-24 13:29  squinney@INF.ED.AC.UK

	* Abstracted the names of some xml nodes to make the code more
	  generic

2015-04-24 09:49  squinney@INF.ED.AC.UK

	* lcfg-xmlreader release: 0.1.0

2015-04-24 09:48  squinney@INF.ED.AC.UK

	* fixed function spec for process_profile

2015-04-24 09:48  squinney@INF.ED.AC.UK

	* process_profile needs to return 1 not 0

2015-04-24 09:44  squinney@INF.ED.AC.UK

	* summarise the profile data to stdout

2015-04-24 09:43  squinney@INF.ED.AC.UK

	* Now return a pointer to the new profile object so the data can be
	  accessed by the caller

2015-04-24 09:36  squinney@INF.ED.AC.UK

	* Link against the new lcfg packagelib

2015-04-24 09:36  squinney@INF.ED.AC.UK

	* some shuffling of functions. Also reworked function argument
	  lists so most strings are char *, also added const where
	  appropriate

2015-04-24 09:34  squinney@INF.ED.AC.UK

	* Now collecting profile metadata. Also changed the way the
	  packages list is stored

2015-04-24 09:33  squinney@INF.ED.AC.UK

	* Massive reworking of how packages are handled to use the new lcfg
	  packagelib

2015-04-24 09:09  squinney@INF.ED.AC.UK

	* Fixed dependency on ldconfig

2015-04-24 09:08  squinney@INF.ED.AC.UK

	* Fixed installation of libraries on EL7

2015-01-30 11:36  squinney@INF.ED.AC.UK

	* Improved printing of package specs

2015-01-30 10:39  squinney@INF.ED.AC.UK

	* Added a prefix field into the PackageSpec struct. This isn't used
	  by the XML profile parser but is needed by other parsers. This is
	  another step towards being able to have a standard package
	  library

2015-01-30 10:26  squinney@INF.ED.AC.UK

	* In the package spec refer to 'flags' instead of 'options' to make
	  it consistent with everything else

2014-05-08 14:15  cc@INF.ED.AC.UK

	* lcfg-xmlreader release: 0.0.3

2014-05-08 13:52  cc@INF.ED.AC.UK

	* Mass LCFG rebuild for Red Hat Enterprise Linux 7.0 RC 1

2014-02-07 16:23  squinney@INF.ED.AC.UK

	* new function definitions

2014-02-07 16:23  squinney@INF.ED.AC.UK

	* Added handling of the tags, this is the first step towards
	  building the real resource names from the templates

2014-02-07 12:11  squinney@INF.ED.AC.UK

	* added new sources

2014-02-07 12:11  squinney@INF.ED.AC.UK

	* lots of bugfixes and small improvements to how the resource nodes
	  are parsed

2014-02-07 12:10  squinney@INF.ED.AC.UK

	* Added correct_location function to check name of current element
	  node. Added squash_whitespace to reduce all runs of whitespace in
	  a string into single spaces (good for removing new lines as well)

2014-02-07 12:09  squinney@INF.ED.AC.UK

	* improved checking of element node name

2014-02-07 06:57  squinney@INF.ED.AC.UK

	* fixed double free

2014-02-07 06:27  squinney@INF.ED.AC.UK

	* added first attempt at processing components structure

2014-02-07 06:26  squinney@INF.ED.AC.UK

	* added check that the process_packages function is starting at the
	  packages node

2014-02-06 14:14  squinney@INF.ED.AC.UK

	* Now split the release value when it contains a / which shows that
	  the arch is included as part of the string

2014-02-06 12:52  squinney@INF.ED.AC.UK

	* avoid processing an empty packages or package node

2014-02-06 12:44  squinney@INF.ED.AC.UK

	* now parses profile and prints out package list

2014-02-06 12:43  squinney@INF.ED.AC.UK

	* Added moveto_node function. Reworked some functions to be safe
	  against read errors or hitting the end of the file

2014-02-06 12:43  squinney@INF.ED.AC.UK

	* Various functions reworked so that they are safe against a read
	  error or hitting the end of the file

2014-02-05 19:19  squinney@INF.ED.AC.UK

	* Added new code to the library

2014-02-05 19:18  squinney@INF.ED.AC.UK

	* Added more functions

2014-02-05 18:52  squinney@INF.ED.AC.UK

	* renamed some files to something better

2014-02-05 15:14  squinney@INF.ED.AC.UK

	* Small fixes to handle the code having been split out

2014-02-05 15:14  squinney@INF.ED.AC.UK

	* Use pkgconfig to work out necessary compiler options for libxml2

2014-02-05 14:56  squinney@INF.ED.AC.UK

	* lcfg-xmlreader release: 0.0.2

2014-02-05 14:56  squinney@INF.ED.AC.UK

	* First import of code

